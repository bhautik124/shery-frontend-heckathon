import{r as C,j as O}from"./index-BRV1AiB8.js";import{i as at,r as it,a as rt,b as Z,c as q,d as ot,e as lt,f as ut,g as ct,s as ft,p as mt,V as ht,h as pt,j as dt,k as gt,S as yt,H as At,v as $,l as St,n as Et,o as Vt,u as J,m as R}from"./proxy-CRvqEmdz.js";const xt=(t,e,n)=>{const s=e-t;return((n-t)%s+s)%s+t};function tt(t,e){return at(t)?t[xt(0,t.length,e)]:t}class vt{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>e.finished))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let s=0;s<this.animations.length;s++)this.animations[s][e]=n}attachTimeline(e){const n=this.animations.map(s=>s.attachTimeline(e));return()=>{n.forEach((s,i)=>{s&&s(),this.animations[i].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Tt extends vt{then(e,n){return this.finished.finally(e).then(()=>{})}}function bt(t){return C.useEffect(()=>()=>t(),[])}function W(t){return typeof t=="object"&&!Array.isArray(t)}function et(t,e,n,s){return typeof t=="string"&&W(e)?it(t,n,s):t instanceof NodeList?Array.from(t):Array.isArray(t)?t:[t]}function jt(t,e,n){return t*(e+1)}function Q(t,e,n,s){return typeof e=="number"?e:e.startsWith("-")||e.startsWith("+")?Math.max(0,t+parseFloat(e)):e==="<"?n:e.startsWith("<")?Math.max(0,n+parseFloat(e.slice(1))):s.get(e)??t}function Mt(t,e,n){for(let s=0;s<t.length;s++){const i=t[s];i.at>e&&i.at<n&&(Z(t,i),s--)}}function wt(t,e,n,s,i,l){Mt(t,i,l);for(let a=0;a<e.length;a++)t.push({value:e[a],at:rt(i,l,s[a]),easing:tt(n,a)})}function Dt(t,e){for(let n=0;n<t.length;n++)t[n]=t[n]/(e+1)}function It(t,e){return t.at===e.at?t.value===null?1:e.value===null?-1:0:t.at-e.at}const Nt="easeInOut";function Ot(t,{defaultTransition:e={},...n}={},s,i){const l=e.duration||.3,a=new Map,m=new Map,h={},A=new Map;let v=0,o=0,d=0;for(let c=0;c<t.length;c++){const r=t[c];if(typeof r=="string"){A.set(r,o);continue}else if(!Array.isArray(r)){A.set(r.name,Q(o,r.at,v,A));continue}let[f,y,p={}]=r;p.at!==void 0&&(o=Q(o,p.at,v,A));let g=0;const j=(S,E,T,M=0,w=0)=>{const u=Gt(S),{delay:B=0,times:V=ot(u),type:L="keyframes",repeat:G,repeatType:Ht,repeatDelay:Ut=0,...st}=E;let{ease:b=e.ease||"easeOut",duration:x}=E;const P=typeof B=="function"?B(M,w):B,_=u.length,k=ct(L)?L:i==null?void 0:i[L||"keyframes"];if(_<=2&&k){let D=100;if(_===2&&$t(u)){const I=u[1]-u[0];D=Math.abs(I)}const F={...st};x!==void 0&&(F.duration=ft(x));const K=lt(F,D,k);b=K.ease,x=K.duration}x??(x=l);const z=o+P;V.length===1&&V[0]===0&&(V[1]=1);const H=V.length-u.length;if(H>0&&ut(V,H),u.length===1&&u.unshift(null),G){x=jt(x,G);const D=[...u],F=[...V];b=Array.isArray(b)?[...b]:[b];const K=[...b];for(let I=0;I<G;I++){u.push(...D);for(let N=0;N<D.length;N++)V.push(F[N]+(I+1)),b.push(N===0?"linear":tt(K,N-1))}Dt(V,G)}const U=z+x;wt(T,u,b,V,z,U),g=Math.max(P+x,g),d=Math.max(U,d)};if(q(f)){const S=X(f,m);j(y,p,Y("default",S))}else{const S=et(f,y,s,h),E=S.length;for(let T=0;T<E;T++){y=y,p=p;const M=S[T],w=X(M,m);for(const u in y)j(y[u],Ft(p,u),Y(u,w),T,E)}}v=o,o+=g}return m.forEach((c,r)=>{for(const f in c){const y=c[f];y.sort(It);const p=[],g=[],j=[];for(let E=0;E<y.length;E++){const{at:T,value:M,easing:w}=y[E];p.push(M),g.push(mt(0,d,T)),j.push(w||"easeOut")}g[0]!==0&&(g.unshift(0),p.unshift(p[0]),j.unshift(Nt)),g[g.length-1]!==1&&(g.push(1),p.push(null)),a.has(r)||a.set(r,{keyframes:{},transition:{}});const S=a.get(r);S.keyframes[f]=p,S.transition[f]={...e,duration:d,ease:j,times:g,...n}}}),a}function X(t,e){return!e.has(t)&&e.set(t,{}),e.get(t)}function Y(t,e){return e[t]||(e[t]=[]),e[t]}function Gt(t){return Array.isArray(t)?t:[t]}function Ft(t,e){return t&&t[e]?{...t,...t[e]}:{...t}}const Kt=t=>typeof t=="number",$t=t=>t.every(Kt);function Bt(t,e){return t in e}class Lt extends ht{constructor(){super(...arguments),this.type="object"}readValueFromInstance(e,n){if(Bt(n,e)){const s=e[n];if(typeof s=="string"||typeof s=="number")return s}}getBaseTargetFromProps(){}removeValueFromRenderState(e,n){delete n.output[e]}measureInstanceViewportBox(){return pt()}build(e,n){Object.assign(e.output,n)}renderInstance(e,{output:n}){Object.assign(e,n)}sortInstanceNodePosition(){return 0}}function Rt(t){const e={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=dt(t)&&!gt(t)?new yt(e):new At(e);n.mount(t),$.set(t,n)}function Ct(t){const e={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new Lt(e);n.mount(t),$.set(t,n)}function Wt(t,e){return q(t)||typeof t=="number"||typeof t=="string"&&!W(e)}function nt(t,e,n,s){const i=[];if(Wt(t,e))i.push(St(t,W(e)&&e.default||e,n&&(n.default||n)));else{const l=et(t,e,s),a=l.length;for(let m=0;m<a;m++){const h=l[m],A=h instanceof Element?Rt:Ct;$.has(h)||A(h);const v=$.get(h),o={...n};"delay"in o&&typeof o.delay=="function"&&(o.delay=o.delay(m,a)),i.push(...Et(v,{...e,transition:o},{}))}}return i}function Pt(t,e,n){const s=[];return Ot(t,e,n,{spring:Vt}).forEach(({keyframes:l,transition:a},m)=>{s.push(...nt(m,l,a))}),s}function _t(t){return Array.isArray(t)&&t.some(Array.isArray)}function kt(t){function e(n,s,i){let l=[];_t(n)?l=Pt(n,s,t):l=nt(n,s,i,t);const a=new Tt(l);return t&&(t.animations.push(a),a.finished.then(()=>{Z(t.animations,a)})),a}return e}function zt(){const t=J(()=>({current:null,animations:[]})),e=J(()=>kt(t));return bt(()=>{t.animations.forEach(n=>n.stop()),t.animations.length=0}),[t,e]}const Xt=({label:t,reverse:e=!0,transition:n={type:"spring",duration:.8},staggerDuration:s=.02,className:i,onClick:l,...a})=>{const[m,h]=zt(),[A,v]=C.useState(!1),o=(d,c)=>({...d,delay:c*s});return C.useEffect(()=>{if(A)return;v(!0);const d=Array.from({length:t.length},(r,f)=>f).sort(()=>Math.random()-.5);for(let r=0;r<t.length;r++){const f=d[r];h(`.letter-${f}`,{y:e?"100%":"-100%"},o(n,r)).then(()=>{h(`.letter-${f}`,{y:0},{duration:0})}),h(`.letter-secondary-${f}`,{top:"0%"},o(n,r)).then(()=>{h(`.letter-secondary-${f}`,{top:e?"-100%":"100%"},{duration:0})})}const c=setTimeout(()=>{v(!0)},2e3);return()=>clearTimeout(c)},[h,t,e,n,s,A]),O.jsxs(R.span,{className:`flex justify-center items-center relative overflow-hidden ${i}`,onClick:l,ref:m,...a,children:[O.jsx("span",{className:"sr-only",children:t}),t.split("").map((d,c)=>O.jsxs("span",{className:"whitespace-pre relative flex","aria-hidden":"true",children:[O.jsx(R.span,{className:`relative pb-2 letter-${c}`,style:{top:0},children:d}),O.jsx(R.span,{className:`absolute letter-secondary-${c}`,style:{top:e?"-100%":"100%"},children:d})]},c))]})};export{Xt as R};
