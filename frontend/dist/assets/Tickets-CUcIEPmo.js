import{c as Pe,a as xe,r as V,j as F,g as Me}from"./index-BRV1AiB8.js";import{i as We}from"./style-CzbZutEP.js";import{A as Ue}from"./index-BERixMh-.js";import{m as ee}from"./proxy-CRvqEmdz.js";import{M as be}from"./Menu-0A3qeatS.js";import{R as Ge}from"./ContactAnimation-C1SNk8al.js";import"./index-Gr_GGZH5.js";var ae={exports:{}};/*!
 * matter-js 0.20.0 by @liabru
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */var ze=ae.exports,Ee;function $e(){return Ee||(Ee=1,function(D,k){(function(R,v){D.exports=v()})(ze,function(){return function(T){var R={};function v(e){if(R[e])return R[e].exports;var l=R[e]={i:e,l:!1,exports:{}};return T[e].call(l.exports,l,l.exports,v),l.l=!0,l.exports}return v.m=T,v.c=R,v.d=function(e,l,o){v.o(e,l)||Object.defineProperty(e,l,{enumerable:!0,get:o})},v.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},v.t=function(e,l){if(l&1&&(e=v(e)),l&8||l&4&&typeof e=="object"&&e&&e.__esModule)return e;var o=Object.create(null);if(v.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),l&2&&typeof e!="string")for(var s in e)v.d(o,s,(function(u){return e[u]}).bind(null,s));return o},v.n=function(e){var l=e&&e.__esModule?function(){return e.default}:function(){return e};return v.d(l,"a",l),l},v.o=function(e,l){return Object.prototype.hasOwnProperty.call(e,l)},v.p="",v(v.s=20)}([function(T,R){var v={};T.exports=v,function(){v._baseDelta=1e3/60,v._nextId=0,v._seed=0,v._nowStartTime=+new Date,v._warnedOnce={},v._decomp=null,v.extend=function(l,o){var s,u;typeof o=="boolean"?(s=2,u=o):(s=1,u=!0);for(var n=s;n<arguments.length;n++){var f=arguments[n];if(f)for(var a in f)u&&f[a]&&f[a].constructor===Object&&(!l[a]||l[a].constructor===Object)?(l[a]=l[a]||{},v.extend(l[a],u,f[a])):l[a]=f[a]}return l},v.clone=function(l,o){return v.extend({},o,l)},v.keys=function(l){if(Object.keys)return Object.keys(l);var o=[];for(var s in l)o.push(s);return o},v.values=function(l){var o=[];if(Object.keys){for(var s=Object.keys(l),u=0;u<s.length;u++)o.push(l[s[u]]);return o}for(var n in l)o.push(l[n]);return o},v.get=function(l,o,s,u){o=o.split(".").slice(s,u);for(var n=0;n<o.length;n+=1)l=l[o[n]];return l},v.set=function(l,o,s,u,n){var f=o.split(".").slice(u,n);return v.get(l,o,0,-1)[f[f.length-1]]=s,s},v.shuffle=function(l){for(var o=l.length-1;o>0;o--){var s=Math.floor(v.random()*(o+1)),u=l[o];l[o]=l[s],l[s]=u}return l},v.choose=function(l){return l[Math.floor(v.random()*l.length)]},v.isElement=function(l){return typeof HTMLElement<"u"?l instanceof HTMLElement:!!(l&&l.nodeType&&l.nodeName)},v.isArray=function(l){return Object.prototype.toString.call(l)==="[object Array]"},v.isFunction=function(l){return typeof l=="function"},v.isPlainObject=function(l){return typeof l=="object"&&l.constructor===Object},v.isString=function(l){return toString.call(l)==="[object String]"},v.clamp=function(l,o,s){return l<o?o:l>s?s:l},v.sign=function(l){return l<0?-1:1},v.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-v._nowStartTime},v.random=function(l,o){return l=typeof l<"u"?l:0,o=typeof o<"u"?o:1,l+e()*(o-l)};var e=function(){return v._seed=(v._seed*9301+49297)%233280,v._seed/233280};v.colorToNumber=function(l){return l=l.replace("#",""),l.length==3&&(l=l.charAt(0)+l.charAt(0)+l.charAt(1)+l.charAt(1)+l.charAt(2)+l.charAt(2)),parseInt(l,16)},v.logLevel=1,v.log=function(){console&&v.logLevel>0&&v.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},v.info=function(){console&&v.logLevel>0&&v.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},v.warn=function(){console&&v.logLevel>0&&v.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},v.warnOnce=function(){var l=Array.prototype.slice.call(arguments).join(" ");v._warnedOnce[l]||(v.warn(l),v._warnedOnce[l]=!0)},v.deprecated=function(l,o,s){l[o]=v.chain(function(){v.warnOnce("ðŸ”… deprecated ðŸ”…",s)},l[o])},v.nextId=function(){return v._nextId++},v.indexOf=function(l,o){if(l.indexOf)return l.indexOf(o);for(var s=0;s<l.length;s++)if(l[s]===o)return s;return-1},v.map=function(l,o){if(l.map)return l.map(o);for(var s=[],u=0;u<l.length;u+=1)s.push(o(l[u]));return s},v.topologicalSort=function(l){var o=[],s=[],u=[];for(var n in l)!s[n]&&!u[n]&&v._topologicalSort(n,s,u,l,o);return o},v._topologicalSort=function(l,o,s,u,n){var f=u[l]||[];s[l]=!0;for(var a=0;a<f.length;a+=1){var t=f[a];s[t]||o[t]||v._topologicalSort(t,o,s,u,n)}s[l]=!1,o[l]=!0,n.push(l)},v.chain=function(){for(var l=[],o=0;o<arguments.length;o+=1){var s=arguments[o];s._chained?l.push.apply(l,s._chained):l.push(s)}var u=function(){for(var n,f=new Array(arguments.length),a=0,t=arguments.length;a<t;a++)f[a]=arguments[a];for(a=0;a<l.length;a+=1){var i=l[a].apply(n,f);typeof i<"u"&&(n=i)}return n};return u._chained=l,u},v.chainPathBefore=function(l,o,s){return v.set(l,o,v.chain(s,v.get(l,o)))},v.chainPathAfter=function(l,o,s){return v.set(l,o,v.chain(v.get(l,o),s))},v.setDecomp=function(l){v._decomp=l},v.getDecomp=function(){var l=v._decomp;try{!l&&typeof window<"u"&&(l=window.decomp),!l&&typeof Pe<"u"&&(l=Pe.decomp)}catch{l=null}return l}}()},function(T,R){var v={};T.exports=v,function(){v.create=function(e){var l={min:{x:0,y:0},max:{x:0,y:0}};return e&&v.update(l,e),l},v.update=function(e,l,o){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var s=0;s<l.length;s++){var u=l[s];u.x>e.max.x&&(e.max.x=u.x),u.x<e.min.x&&(e.min.x=u.x),u.y>e.max.y&&(e.max.y=u.y),u.y<e.min.y&&(e.min.y=u.y)}o&&(o.x>0?e.max.x+=o.x:e.min.x+=o.x,o.y>0?e.max.y+=o.y:e.min.y+=o.y)},v.contains=function(e,l){return l.x>=e.min.x&&l.x<=e.max.x&&l.y>=e.min.y&&l.y<=e.max.y},v.overlaps=function(e,l){return e.min.x<=l.max.x&&e.max.x>=l.min.x&&e.max.y>=l.min.y&&e.min.y<=l.max.y},v.translate=function(e,l){e.min.x+=l.x,e.max.x+=l.x,e.min.y+=l.y,e.max.y+=l.y},v.shift=function(e,l){var o=e.max.x-e.min.x,s=e.max.y-e.min.y;e.min.x=l.x,e.max.x=l.x+o,e.min.y=l.y,e.max.y=l.y+s}}()},function(T,R){var v={};T.exports=v,function(){v.create=function(e,l){return{x:e||0,y:l||0}},v.clone=function(e){return{x:e.x,y:e.y}},v.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},v.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},v.rotate=function(e,l,o){var s=Math.cos(l),u=Math.sin(l);o||(o={});var n=e.x*s-e.y*u;return o.y=e.x*u+e.y*s,o.x=n,o},v.rotateAbout=function(e,l,o,s){var u=Math.cos(l),n=Math.sin(l);s||(s={});var f=o.x+((e.x-o.x)*u-(e.y-o.y)*n);return s.y=o.y+((e.x-o.x)*n+(e.y-o.y)*u),s.x=f,s},v.normalise=function(e){var l=v.magnitude(e);return l===0?{x:0,y:0}:{x:e.x/l,y:e.y/l}},v.dot=function(e,l){return e.x*l.x+e.y*l.y},v.cross=function(e,l){return e.x*l.y-e.y*l.x},v.cross3=function(e,l,o){return(l.x-e.x)*(o.y-e.y)-(l.y-e.y)*(o.x-e.x)},v.add=function(e,l,o){return o||(o={}),o.x=e.x+l.x,o.y=e.y+l.y,o},v.sub=function(e,l,o){return o||(o={}),o.x=e.x-l.x,o.y=e.y-l.y,o},v.mult=function(e,l){return{x:e.x*l,y:e.y*l}},v.div=function(e,l){return{x:e.x/l,y:e.y/l}},v.perp=function(e,l){return l=l===!0?-1:1,{x:l*-e.y,y:l*e.x}},v.neg=function(e){return{x:-e.x,y:-e.y}},v.angle=function(e,l){return Math.atan2(l.y-e.y,l.x-e.x)},v._temp=[v.create(),v.create(),v.create(),v.create(),v.create(),v.create()]}()},function(T,R,v){var e={};T.exports=e;var l=v(2),o=v(0);(function(){e.create=function(s,u){for(var n=[],f=0;f<s.length;f++){var a=s[f],t={x:a.x,y:a.y,index:f,body:u,isInternal:!1};n.push(t)}return n},e.fromPath=function(s,u){var n=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,f=[];return s.replace(n,function(a,t,i){f.push({x:parseFloat(t),y:parseFloat(i)})}),e.create(f,u)},e.centre=function(s){for(var u=e.area(s,!0),n={x:0,y:0},f,a,t,i=0;i<s.length;i++)t=(i+1)%s.length,f=l.cross(s[i],s[t]),a=l.mult(l.add(s[i],s[t]),f),n=l.add(n,a);return l.div(n,6*u)},e.mean=function(s){for(var u={x:0,y:0},n=0;n<s.length;n++)u.x+=s[n].x,u.y+=s[n].y;return l.div(u,s.length)},e.area=function(s,u){for(var n=0,f=s.length-1,a=0;a<s.length;a++)n+=(s[f].x-s[a].x)*(s[f].y+s[a].y),f=a;return u?n/2:Math.abs(n)/2},e.inertia=function(s,u){for(var n=0,f=0,a=s,t,i,r=0;r<a.length;r++)i=(r+1)%a.length,t=Math.abs(l.cross(a[i],a[r])),n+=t*(l.dot(a[i],a[i])+l.dot(a[i],a[r])+l.dot(a[r],a[r])),f+=t;return u/6*(n/f)},e.translate=function(s,u,n){n=typeof n<"u"?n:1;var f=s.length,a=u.x*n,t=u.y*n,i;for(i=0;i<f;i++)s[i].x+=a,s[i].y+=t;return s},e.rotate=function(s,u,n){if(u!==0){var f=Math.cos(u),a=Math.sin(u),t=n.x,i=n.y,r=s.length,c,x,y,S;for(S=0;S<r;S++)c=s[S],x=c.x-t,y=c.y-i,c.x=t+(x*f-y*a),c.y=i+(x*a+y*f);return s}},e.contains=function(s,u){for(var n=u.x,f=u.y,a=s.length,t=s[a-1],i,r=0;r<a;r++){if(i=s[r],(n-t.x)*(i.y-t.y)+(f-t.y)*(t.x-i.x)>0)return!1;t=i}return!0},e.scale=function(s,u,n,f){if(u===1&&n===1)return s;f=f||e.centre(s);for(var a,t,i=0;i<s.length;i++)a=s[i],t=l.sub(a,f),s[i].x=f.x+t.x*u,s[i].y=f.y+t.y*n;return s},e.chamfer=function(s,u,n,f,a){typeof u=="number"?u=[u]:u=u||[8],n=typeof n<"u"?n:-1,f=f||2,a=a||14;for(var t=[],i=0;i<s.length;i++){var r=s[i-1>=0?i-1:s.length-1],c=s[i],x=s[(i+1)%s.length],y=u[i<u.length?i:u.length-1];if(y===0){t.push(c);continue}var S=l.normalise({x:c.y-r.y,y:r.x-c.x}),P=l.normalise({x:x.y-c.y,y:c.x-x.x}),m=Math.sqrt(2*Math.pow(y,2)),h=l.mult(o.clone(S),y),d=l.normalise(l.mult(l.add(S,P),.5)),p=l.sub(c,l.mult(d,m)),w=n;n===-1&&(w=Math.pow(y,.32)*1.75),w=o.clamp(w,f,a),w%2===1&&(w+=1);for(var g=Math.acos(l.dot(S,P)),C=g/w,M=0;M<w;M++)t.push(l.add(l.rotate(h,C*M),p))}return t},e.clockwiseSort=function(s){var u=e.mean(s);return s.sort(function(n,f){return l.angle(u,n)-l.angle(u,f)}),s},e.isConvex=function(s){var u=0,n=s.length,f,a,t,i;if(n<3)return null;for(f=0;f<n;f++)if(a=(f+1)%n,t=(f+2)%n,i=(s[a].x-s[f].x)*(s[t].y-s[a].y),i-=(s[a].y-s[f].y)*(s[t].x-s[a].x),i<0?u|=1:i>0&&(u|=2),u===3)return!1;return u!==0?!0:null},e.hull=function(s){var u=[],n=[],f,a;for(s=s.slice(0),s.sort(function(t,i){var r=t.x-i.x;return r!==0?r:t.y-i.y}),a=0;a<s.length;a+=1){for(f=s[a];n.length>=2&&l.cross3(n[n.length-2],n[n.length-1],f)<=0;)n.pop();n.push(f)}for(a=s.length-1;a>=0;a-=1){for(f=s[a];u.length>=2&&l.cross3(u[u.length-2],u[u.length-1],f)<=0;)u.pop();u.push(f)}return u.pop(),n.pop(),u.concat(n)}})()},function(T,R,v){var e={};T.exports=e;var l=v(3),o=v(2),s=v(7),u=v(0),n=v(1),f=v(11);(function(){e._timeCorrection=!0,e._inertiaScale=4,e._nextCollidingGroupId=1,e._nextNonCollidingGroupId=-1,e._nextCategory=1,e._baseDelta=1e3/60,e.create=function(t){var i={id:u.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:l.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,deltaTime:16.666666666666668,_original:null},r=u.extend(i,t);return a(r,t),r},e.nextGroup=function(t){return t?e._nextNonCollidingGroupId--:e._nextCollidingGroupId++},e.nextCategory=function(){return e._nextCategory=e._nextCategory<<1,e._nextCategory};var a=function(t,i){i=i||{},e.set(t,{bounds:t.bounds||n.create(t.vertices),positionPrev:t.positionPrev||o.clone(t.position),anglePrev:t.anglePrev||t.angle,vertices:t.vertices,parts:t.parts||[t],isStatic:t.isStatic,isSleeping:t.isSleeping,parent:t.parent||t}),l.rotate(t.vertices,t.angle,t.position),f.rotate(t.axes,t.angle),n.update(t.bounds,t.vertices,t.velocity),e.set(t,{axes:i.axes||t.axes,area:i.area||t.area,mass:i.mass||t.mass,inertia:i.inertia||t.inertia});var r=t.isStatic?"#14151f":u.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),c=t.isStatic?"#555":"#ccc",x=t.isStatic&&t.render.fillStyle===null?1:0;t.render.fillStyle=t.render.fillStyle||r,t.render.strokeStyle=t.render.strokeStyle||c,t.render.lineWidth=t.render.lineWidth||x,t.render.sprite.xOffset+=-(t.bounds.min.x-t.position.x)/(t.bounds.max.x-t.bounds.min.x),t.render.sprite.yOffset+=-(t.bounds.min.y-t.position.y)/(t.bounds.max.y-t.bounds.min.y)};e.set=function(t,i,r){var c;typeof i=="string"&&(c=i,i={},i[c]=r);for(c in i)if(Object.prototype.hasOwnProperty.call(i,c))switch(r=i[c],c){case"isStatic":e.setStatic(t,r);break;case"isSleeping":s.set(t,r);break;case"mass":e.setMass(t,r);break;case"density":e.setDensity(t,r);break;case"inertia":e.setInertia(t,r);break;case"vertices":e.setVertices(t,r);break;case"position":e.setPosition(t,r);break;case"angle":e.setAngle(t,r);break;case"velocity":e.setVelocity(t,r);break;case"angularVelocity":e.setAngularVelocity(t,r);break;case"speed":e.setSpeed(t,r);break;case"angularSpeed":e.setAngularSpeed(t,r);break;case"parts":e.setParts(t,r);break;case"centre":e.setCentre(t,r);break;default:t[c]=r}},e.setStatic=function(t,i){for(var r=0;r<t.parts.length;r++){var c=t.parts[r];i?(c.isStatic||(c._original={restitution:c.restitution,friction:c.friction,mass:c.mass,inertia:c.inertia,density:c.density,inverseMass:c.inverseMass,inverseInertia:c.inverseInertia}),c.restitution=0,c.friction=1,c.mass=c.inertia=c.density=1/0,c.inverseMass=c.inverseInertia=0,c.positionPrev.x=c.position.x,c.positionPrev.y=c.position.y,c.anglePrev=c.angle,c.angularVelocity=0,c.speed=0,c.angularSpeed=0,c.motion=0):c._original&&(c.restitution=c._original.restitution,c.friction=c._original.friction,c.mass=c._original.mass,c.inertia=c._original.inertia,c.density=c._original.density,c.inverseMass=c._original.inverseMass,c.inverseInertia=c._original.inverseInertia,c._original=null),c.isStatic=i}},e.setMass=function(t,i){var r=t.inertia/(t.mass/6);t.inertia=r*(i/6),t.inverseInertia=1/t.inertia,t.mass=i,t.inverseMass=1/t.mass,t.density=t.mass/t.area},e.setDensity=function(t,i){e.setMass(t,i*t.area),t.density=i},e.setInertia=function(t,i){t.inertia=i,t.inverseInertia=1/t.inertia},e.setVertices=function(t,i){i[0].body===t?t.vertices=i:t.vertices=l.create(i,t),t.axes=f.fromVertices(t.vertices),t.area=l.area(t.vertices),e.setMass(t,t.density*t.area);var r=l.centre(t.vertices);l.translate(t.vertices,r,-1),e.setInertia(t,e._inertiaScale*l.inertia(t.vertices,t.mass)),l.translate(t.vertices,t.position),n.update(t.bounds,t.vertices,t.velocity)},e.setParts=function(t,i,r){var c;for(i=i.slice(0),t.parts.length=0,t.parts.push(t),t.parent=t,c=0;c<i.length;c++){var x=i[c];x!==t&&(x.parent=t,t.parts.push(x))}if(t.parts.length!==1){if(r=typeof r<"u"?r:!0,r){var y=[];for(c=0;c<i.length;c++)y=y.concat(i[c].vertices);l.clockwiseSort(y);var S=l.hull(y),P=l.centre(S);e.setVertices(t,S),l.translate(t.vertices,P)}var m=e._totalProperties(t);t.area=m.area,t.parent=t,t.position.x=m.centre.x,t.position.y=m.centre.y,t.positionPrev.x=m.centre.x,t.positionPrev.y=m.centre.y,e.setMass(t,m.mass),e.setInertia(t,m.inertia),e.setPosition(t,m.centre)}},e.setCentre=function(t,i,r){r?(t.positionPrev.x+=i.x,t.positionPrev.y+=i.y,t.position.x+=i.x,t.position.y+=i.y):(t.positionPrev.x=i.x-(t.position.x-t.positionPrev.x),t.positionPrev.y=i.y-(t.position.y-t.positionPrev.y),t.position.x=i.x,t.position.y=i.y)},e.setPosition=function(t,i,r){var c=o.sub(i,t.position);r?(t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.velocity.x=c.x,t.velocity.y=c.y,t.speed=o.magnitude(c)):(t.positionPrev.x+=c.x,t.positionPrev.y+=c.y);for(var x=0;x<t.parts.length;x++){var y=t.parts[x];y.position.x+=c.x,y.position.y+=c.y,l.translate(y.vertices,c),n.update(y.bounds,y.vertices,t.velocity)}},e.setAngle=function(t,i,r){var c=i-t.angle;r?(t.anglePrev=t.angle,t.angularVelocity=c,t.angularSpeed=Math.abs(c)):t.anglePrev+=c;for(var x=0;x<t.parts.length;x++){var y=t.parts[x];y.angle+=c,l.rotate(y.vertices,c,t.position),f.rotate(y.axes,c),n.update(y.bounds,y.vertices,t.velocity),x>0&&o.rotateAbout(y.position,c,t.position,y.position)}},e.setVelocity=function(t,i){var r=t.deltaTime/e._baseDelta;t.positionPrev.x=t.position.x-i.x*r,t.positionPrev.y=t.position.y-i.y*r,t.velocity.x=(t.position.x-t.positionPrev.x)/r,t.velocity.y=(t.position.y-t.positionPrev.y)/r,t.speed=o.magnitude(t.velocity)},e.getVelocity=function(t){var i=e._baseDelta/t.deltaTime;return{x:(t.position.x-t.positionPrev.x)*i,y:(t.position.y-t.positionPrev.y)*i}},e.getSpeed=function(t){return o.magnitude(e.getVelocity(t))},e.setSpeed=function(t,i){e.setVelocity(t,o.mult(o.normalise(e.getVelocity(t)),i))},e.setAngularVelocity=function(t,i){var r=t.deltaTime/e._baseDelta;t.anglePrev=t.angle-i*r,t.angularVelocity=(t.angle-t.anglePrev)/r,t.angularSpeed=Math.abs(t.angularVelocity)},e.getAngularVelocity=function(t){return(t.angle-t.anglePrev)*e._baseDelta/t.deltaTime},e.getAngularSpeed=function(t){return Math.abs(e.getAngularVelocity(t))},e.setAngularSpeed=function(t,i){e.setAngularVelocity(t,u.sign(e.getAngularVelocity(t))*i)},e.translate=function(t,i,r){e.setPosition(t,o.add(t.position,i),r)},e.rotate=function(t,i,r,c){if(!r)e.setAngle(t,t.angle+i,c);else{var x=Math.cos(i),y=Math.sin(i),S=t.position.x-r.x,P=t.position.y-r.y;e.setPosition(t,{x:r.x+(S*x-P*y),y:r.y+(S*y+P*x)},c),e.setAngle(t,t.angle+i,c)}},e.scale=function(t,i,r,c){var x=0,y=0;c=c||t.position;for(var S=0;S<t.parts.length;S++){var P=t.parts[S];l.scale(P.vertices,i,r,c),P.axes=f.fromVertices(P.vertices),P.area=l.area(P.vertices),e.setMass(P,t.density*P.area),l.translate(P.vertices,{x:-P.position.x,y:-P.position.y}),e.setInertia(P,e._inertiaScale*l.inertia(P.vertices,P.mass)),l.translate(P.vertices,{x:P.position.x,y:P.position.y}),S>0&&(x+=P.area,y+=P.inertia),P.position.x=c.x+(P.position.x-c.x)*i,P.position.y=c.y+(P.position.y-c.y)*r,n.update(P.bounds,P.vertices,t.velocity)}t.parts.length>1&&(t.area=x,t.isStatic||(e.setMass(t,t.density*x),e.setInertia(t,y))),t.circleRadius&&(i===r?t.circleRadius*=i:t.circleRadius=null)},e.update=function(t,i){i=(typeof i<"u"?i:1e3/60)*t.timeScale;var r=i*i,c=e._timeCorrection?i/(t.deltaTime||i):1,x=1-t.frictionAir*(i/u._baseDelta),y=(t.position.x-t.positionPrev.x)*c,S=(t.position.y-t.positionPrev.y)*c;t.velocity.x=y*x+t.force.x/t.mass*r,t.velocity.y=S*x+t.force.y/t.mass*r,t.positionPrev.x=t.position.x,t.positionPrev.y=t.position.y,t.position.x+=t.velocity.x,t.position.y+=t.velocity.y,t.deltaTime=i,t.angularVelocity=(t.angle-t.anglePrev)*x*c+t.torque/t.inertia*r,t.anglePrev=t.angle,t.angle+=t.angularVelocity;for(var P=0;P<t.parts.length;P++){var m=t.parts[P];l.translate(m.vertices,t.velocity),P>0&&(m.position.x+=t.velocity.x,m.position.y+=t.velocity.y),t.angularVelocity!==0&&(l.rotate(m.vertices,t.angularVelocity,t.position),f.rotate(m.axes,t.angularVelocity),P>0&&o.rotateAbout(m.position,t.angularVelocity,t.position,m.position)),n.update(m.bounds,m.vertices,t.velocity)}},e.updateVelocities=function(t){var i=e._baseDelta/t.deltaTime,r=t.velocity;r.x=(t.position.x-t.positionPrev.x)*i,r.y=(t.position.y-t.positionPrev.y)*i,t.speed=Math.sqrt(r.x*r.x+r.y*r.y),t.angularVelocity=(t.angle-t.anglePrev)*i,t.angularSpeed=Math.abs(t.angularVelocity)},e.applyForce=function(t,i,r){var c={x:i.x-t.position.x,y:i.y-t.position.y};t.force.x+=r.x,t.force.y+=r.y,t.torque+=c.x*r.y-c.y*r.x},e._totalProperties=function(t){for(var i={mass:0,area:0,inertia:0,centre:{x:0,y:0}},r=t.parts.length===1?0:1;r<t.parts.length;r++){var c=t.parts[r],x=c.mass!==1/0?c.mass:1;i.mass+=x,i.area+=c.area,i.inertia+=c.inertia,i.centre=o.add(i.centre,o.mult(c.position,x))}return i.centre=o.div(i.centre,i.mass),i}})()},function(T,R,v){var e={};T.exports=e;var l=v(0);(function(){e.on=function(o,s,u){for(var n=s.split(" "),f,a=0;a<n.length;a++)f=n[a],o.events=o.events||{},o.events[f]=o.events[f]||[],o.events[f].push(u);return u},e.off=function(o,s,u){if(!s){o.events={};return}typeof s=="function"&&(u=s,s=l.keys(o.events).join(" "));for(var n=s.split(" "),f=0;f<n.length;f++){var a=o.events[n[f]],t=[];if(u&&a)for(var i=0;i<a.length;i++)a[i]!==u&&t.push(a[i]);o.events[n[f]]=t}},e.trigger=function(o,s,u){var n,f,a,t,i=o.events;if(i&&l.keys(i).length>0){u||(u={}),n=s.split(" ");for(var r=0;r<n.length;r++)if(f=n[r],a=i[f],a){t=l.clone(u,!1),t.name=f,t.source=o;for(var c=0;c<a.length;c++)a[c].apply(o,[t])}}}})()},function(T,R,v){var e={};T.exports=e;var l=v(5),o=v(0),s=v(1),u=v(4);(function(){e.create=function(n){return o.extend({id:o.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},cache:{allBodies:null,allConstraints:null,allComposites:null}},n)},e.setModified=function(n,f,a,t){if(n.isModified=f,f&&n.cache&&(n.cache.allBodies=null,n.cache.allConstraints=null,n.cache.allComposites=null),a&&n.parent&&e.setModified(n.parent,f,a,t),t)for(var i=0;i<n.composites.length;i++){var r=n.composites[i];e.setModified(r,f,a,t)}},e.add=function(n,f){var a=[].concat(f);l.trigger(n,"beforeAdd",{object:f});for(var t=0;t<a.length;t++){var i=a[t];switch(i.type){case"body":if(i.parent!==i){o.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}e.addBody(n,i);break;case"constraint":e.addConstraint(n,i);break;case"composite":e.addComposite(n,i);break;case"mouseConstraint":e.addConstraint(n,i.constraint);break}}return l.trigger(n,"afterAdd",{object:f}),n},e.remove=function(n,f,a){var t=[].concat(f);l.trigger(n,"beforeRemove",{object:f});for(var i=0;i<t.length;i++){var r=t[i];switch(r.type){case"body":e.removeBody(n,r,a);break;case"constraint":e.removeConstraint(n,r,a);break;case"composite":e.removeComposite(n,r,a);break;case"mouseConstraint":e.removeConstraint(n,r.constraint);break}}return l.trigger(n,"afterRemove",{object:f}),n},e.addComposite=function(n,f){return n.composites.push(f),f.parent=n,e.setModified(n,!0,!0,!1),n},e.removeComposite=function(n,f,a){var t=o.indexOf(n.composites,f);if(t!==-1){var i=e.allBodies(f);e.removeCompositeAt(n,t);for(var r=0;r<i.length;r++)i[r].sleepCounter=0}if(a)for(var r=0;r<n.composites.length;r++)e.removeComposite(n.composites[r],f,!0);return n},e.removeCompositeAt=function(n,f){return n.composites.splice(f,1),e.setModified(n,!0,!0,!1),n},e.addBody=function(n,f){return n.bodies.push(f),e.setModified(n,!0,!0,!1),n},e.removeBody=function(n,f,a){var t=o.indexOf(n.bodies,f);if(t!==-1&&(e.removeBodyAt(n,t),f.sleepCounter=0),a)for(var i=0;i<n.composites.length;i++)e.removeBody(n.composites[i],f,!0);return n},e.removeBodyAt=function(n,f){return n.bodies.splice(f,1),e.setModified(n,!0,!0,!1),n},e.addConstraint=function(n,f){return n.constraints.push(f),e.setModified(n,!0,!0,!1),n},e.removeConstraint=function(n,f,a){var t=o.indexOf(n.constraints,f);if(t!==-1&&e.removeConstraintAt(n,t),a)for(var i=0;i<n.composites.length;i++)e.removeConstraint(n.composites[i],f,!0);return n},e.removeConstraintAt=function(n,f){return n.constraints.splice(f,1),e.setModified(n,!0,!0,!1),n},e.clear=function(n,f,a){if(a)for(var t=0;t<n.composites.length;t++)e.clear(n.composites[t],f,!0);return f?n.bodies=n.bodies.filter(function(i){return i.isStatic}):n.bodies.length=0,n.constraints.length=0,n.composites.length=0,e.setModified(n,!0,!0,!1),n},e.allBodies=function(n){if(n.cache&&n.cache.allBodies)return n.cache.allBodies;for(var f=[].concat(n.bodies),a=0;a<n.composites.length;a++)f=f.concat(e.allBodies(n.composites[a]));return n.cache&&(n.cache.allBodies=f),f},e.allConstraints=function(n){if(n.cache&&n.cache.allConstraints)return n.cache.allConstraints;for(var f=[].concat(n.constraints),a=0;a<n.composites.length;a++)f=f.concat(e.allConstraints(n.composites[a]));return n.cache&&(n.cache.allConstraints=f),f},e.allComposites=function(n){if(n.cache&&n.cache.allComposites)return n.cache.allComposites;for(var f=[].concat(n.composites),a=0;a<n.composites.length;a++)f=f.concat(e.allComposites(n.composites[a]));return n.cache&&(n.cache.allComposites=f),f},e.get=function(n,f,a){var t,i;switch(a){case"body":t=e.allBodies(n);break;case"constraint":t=e.allConstraints(n);break;case"composite":t=e.allComposites(n).concat(n);break}return t?(i=t.filter(function(r){return r.id.toString()===f.toString()}),i.length===0?null:i[0]):null},e.move=function(n,f,a){return e.remove(n,f),e.add(a,f),n},e.rebase=function(n){for(var f=e.allBodies(n).concat(e.allConstraints(n)).concat(e.allComposites(n)),a=0;a<f.length;a++)f[a].id=o.nextId();return n},e.translate=function(n,f,a){for(var t=a?e.allBodies(n):n.bodies,i=0;i<t.length;i++)u.translate(t[i],f);return n},e.rotate=function(n,f,a,t){for(var i=Math.cos(f),r=Math.sin(f),c=t?e.allBodies(n):n.bodies,x=0;x<c.length;x++){var y=c[x],S=y.position.x-a.x,P=y.position.y-a.y;u.setPosition(y,{x:a.x+(S*i-P*r),y:a.y+(S*r+P*i)}),u.rotate(y,f)}return n},e.scale=function(n,f,a,t,i){for(var r=i?e.allBodies(n):n.bodies,c=0;c<r.length;c++){var x=r[c],y=x.position.x-t.x,S=x.position.y-t.y;u.setPosition(x,{x:t.x+y*f,y:t.y+S*a}),u.scale(x,f,a)}return n},e.bounds=function(n){for(var f=e.allBodies(n),a=[],t=0;t<f.length;t+=1){var i=f[t];a.push(i.bounds.min,i.bounds.max)}return s.create(a)}})()},function(T,R,v){var e={};T.exports=e;var l=v(4),o=v(5),s=v(0);(function(){e._motionWakeThreshold=.18,e._motionSleepThreshold=.08,e._minBias=.9,e.update=function(u,n){for(var f=n/s._baseDelta,a=e._motionSleepThreshold,t=0;t<u.length;t++){var i=u[t],r=l.getSpeed(i),c=l.getAngularSpeed(i),x=r*r+c*c;if(i.force.x!==0||i.force.y!==0){e.set(i,!1);continue}var y=Math.min(i.motion,x),S=Math.max(i.motion,x);i.motion=e._minBias*y+(1-e._minBias)*S,i.sleepThreshold>0&&i.motion<a?(i.sleepCounter+=1,i.sleepCounter>=i.sleepThreshold/f&&e.set(i,!0)):i.sleepCounter>0&&(i.sleepCounter-=1)}},e.afterCollisions=function(u){for(var n=e._motionSleepThreshold,f=0;f<u.length;f++){var a=u[f];if(a.isActive){var t=a.collision,i=t.bodyA.parent,r=t.bodyB.parent;if(!(i.isSleeping&&r.isSleeping||i.isStatic||r.isStatic)&&(i.isSleeping||r.isSleeping)){var c=i.isSleeping&&!i.isStatic?i:r,x=c===i?r:i;!c.isStatic&&x.motion>n&&e.set(c,!1)}}}},e.set=function(u,n){var f=u.isSleeping;n?(u.isSleeping=!0,u.sleepCounter=u.sleepThreshold,u.positionImpulse.x=0,u.positionImpulse.y=0,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.anglePrev=u.angle,u.speed=0,u.angularSpeed=0,u.motion=0,f||o.trigger(u,"sleepStart")):(u.isSleeping=!1,u.sleepCounter=0,f&&o.trigger(u,"sleepEnd"))}})()},function(T,R,v){var e={};T.exports=e;var l=v(3),o=v(9);(function(){var s=[],u={overlap:0,axis:null},n={overlap:0,axis:null};e.create=function(f,a){return{pair:null,collided:!1,bodyA:f,bodyB:a,parentA:f.parent,parentB:a.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},e.collides=function(f,a,t){if(e._overlapAxes(u,f.vertices,a.vertices,f.axes),u.overlap<=0||(e._overlapAxes(n,a.vertices,f.vertices,a.axes),n.overlap<=0))return null;var i=t&&t.table[o.id(f,a)],r;i?r=i.collision:(r=e.create(f,a),r.collided=!0,r.bodyA=f.id<a.id?f:a,r.bodyB=f.id<a.id?a:f,r.parentA=r.bodyA.parent,r.parentB=r.bodyB.parent),f=r.bodyA,a=r.bodyB;var c;u.overlap<n.overlap?c=u:c=n;var x=r.normal,y=r.tangent,S=r.penetration,P=r.supports,m=c.overlap,h=c.axis,d=h.x,p=h.y,w=a.position.x-f.position.x,g=a.position.y-f.position.y;d*w+p*g>=0&&(d=-d,p=-p),x.x=d,x.y=p,y.x=-p,y.y=d,S.x=d*m,S.y=p*m,r.depth=m;var C=e._findSupports(f,a,x,1),M=0;if(l.contains(f.vertices,C[0])&&(P[M++]=C[0]),l.contains(f.vertices,C[1])&&(P[M++]=C[1]),M<2){var E=e._findSupports(a,f,x,-1);l.contains(a.vertices,E[0])&&(P[M++]=E[0]),M<2&&l.contains(a.vertices,E[1])&&(P[M++]=E[1])}return M===0&&(P[M++]=C[0]),r.supportCount=M,r},e._overlapAxes=function(f,a,t,i){var r=a.length,c=t.length,x=a[0].x,y=a[0].y,S=t[0].x,P=t[0].y,m=i.length,h=Number.MAX_VALUE,d=0,p,w,g,C,M,E;for(M=0;M<m;M++){var A=i[M],I=A.x,L=A.y,B=x*I+y*L,N=S*I+P*L,j=B,W=N;for(E=1;E<r;E+=1)C=a[E].x*I+a[E].y*L,C>j?j=C:C<B&&(B=C);for(E=1;E<c;E+=1)C=t[E].x*I+t[E].y*L,C>W?W=C:C<N&&(N=C);if(w=j-N,g=W-B,p=w<g?w:g,p<h&&(h=p,d=M,p<=0))break}f.axis=i[d],f.overlap=h},e._findSupports=function(f,a,t,i){var r=a.vertices,c=r.length,x=f.position.x,y=f.position.y,S=t.x*i,P=t.y*i,m=r[0],h=m,d=S*(x-h.x)+P*(y-h.y),p,w,g;for(g=1;g<c;g+=1)h=r[g],w=S*(x-h.x)+P*(y-h.y),w<d&&(d=w,m=h);return p=r[(c+m.index-1)%c],d=S*(x-p.x)+P*(y-p.y),h=r[(m.index+1)%c],S*(x-h.x)+P*(y-h.y)<d?(s[0]=m,s[1]=h,s):(s[0]=m,s[1]=p,s)}})()},function(T,R,v){var e={};T.exports=e;var l=v(16);(function(){e.create=function(o,s){var u=o.bodyA,n=o.bodyB,f={id:e.id(u,n),bodyA:u,bodyB:n,collision:o,contacts:[l.create(),l.create()],contactCount:0,separation:0,isActive:!0,isSensor:u.isSensor||n.isSensor,timeCreated:s,timeUpdated:s,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return e.update(f,o,s),f},e.update=function(o,s,u){var n=s.supports,f=s.supportCount,a=o.contacts,t=s.parentA,i=s.parentB;o.isActive=!0,o.timeUpdated=u,o.collision=s,o.separation=s.depth,o.inverseMass=t.inverseMass+i.inverseMass,o.friction=t.friction<i.friction?t.friction:i.friction,o.frictionStatic=t.frictionStatic>i.frictionStatic?t.frictionStatic:i.frictionStatic,o.restitution=t.restitution>i.restitution?t.restitution:i.restitution,o.slop=t.slop>i.slop?t.slop:i.slop,o.contactCount=f,s.pair=o;var r=n[0],c=a[0],x=n[1],y=a[1];(y.vertex===r||c.vertex===x)&&(a[1]=c,a[0]=c=y,y=a[1]),c.vertex=r,y.vertex=x},e.setActive=function(o,s,u){s?(o.isActive=!0,o.timeUpdated=u):(o.isActive=!1,o.contactCount=0)},e.id=function(o,s){return o.id<s.id?o.id.toString(36)+":"+s.id.toString(36):s.id.toString(36)+":"+o.id.toString(36)}})()},function(T,R,v){var e={};T.exports=e;var l=v(3),o=v(2),s=v(7),u=v(1),n=v(11),f=v(0);(function(){e._warming=.4,e._torqueDampen=1,e._minLength=1e-6,e.create=function(a){var t=a;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var i=t.bodyA?o.add(t.bodyA.position,t.pointA):t.pointA,r=t.bodyB?o.add(t.bodyB.position,t.pointB):t.pointB,c=o.magnitude(o.sub(i,r));t.length=typeof t.length<"u"?t.length:c,t.id=t.id||f.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var x={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return t.length===0&&t.stiffness>.1?(x.type="pin",x.anchors=!1):t.stiffness<.9&&(x.type="spring"),t.render=f.extend(x,t.render),t},e.preSolveAll=function(a){for(var t=0;t<a.length;t+=1){var i=a[t],r=i.constraintImpulse;i.isStatic||r.x===0&&r.y===0&&r.angle===0||(i.position.x+=r.x,i.position.y+=r.y,i.angle+=r.angle)}},e.solveAll=function(a,t){for(var i=f.clamp(t/f._baseDelta,0,1),r=0;r<a.length;r+=1){var c=a[r],x=!c.bodyA||c.bodyA&&c.bodyA.isStatic,y=!c.bodyB||c.bodyB&&c.bodyB.isStatic;(x||y)&&e.solve(a[r],i)}for(r=0;r<a.length;r+=1)c=a[r],x=!c.bodyA||c.bodyA&&c.bodyA.isStatic,y=!c.bodyB||c.bodyB&&c.bodyB.isStatic,!x&&!y&&e.solve(a[r],i)},e.solve=function(a,t){var i=a.bodyA,r=a.bodyB,c=a.pointA,x=a.pointB;if(!(!i&&!r)){i&&!i.isStatic&&(o.rotate(c,i.angle-a.angleA,c),a.angleA=i.angle),r&&!r.isStatic&&(o.rotate(x,r.angle-a.angleB,x),a.angleB=r.angle);var y=c,S=x;if(i&&(y=o.add(i.position,c)),r&&(S=o.add(r.position,x)),!(!y||!S)){var P=o.sub(y,S),m=o.magnitude(P);m<e._minLength&&(m=e._minLength);var h=(m-a.length)/m,d=a.stiffness>=1||a.length===0,p=d?a.stiffness*t:a.stiffness*t*t,w=a.damping*t,g=o.mult(P,h*p),C=(i?i.inverseMass:0)+(r?r.inverseMass:0),M=(i?i.inverseInertia:0)+(r?r.inverseInertia:0),E=C+M,A,I,L,B,N;if(w>0){var j=o.create();L=o.div(P,m),N=o.sub(r&&o.sub(r.position,r.positionPrev)||j,i&&o.sub(i.position,i.positionPrev)||j),B=o.dot(L,N)}i&&!i.isStatic&&(I=i.inverseMass/C,i.constraintImpulse.x-=g.x*I,i.constraintImpulse.y-=g.y*I,i.position.x-=g.x*I,i.position.y-=g.y*I,w>0&&(i.positionPrev.x-=w*L.x*B*I,i.positionPrev.y-=w*L.y*B*I),A=o.cross(c,g)/E*e._torqueDampen*i.inverseInertia*(1-a.angularStiffness),i.constraintImpulse.angle-=A,i.angle-=A),r&&!r.isStatic&&(I=r.inverseMass/C,r.constraintImpulse.x+=g.x*I,r.constraintImpulse.y+=g.y*I,r.position.x+=g.x*I,r.position.y+=g.y*I,w>0&&(r.positionPrev.x+=w*L.x*B*I,r.positionPrev.y+=w*L.y*B*I),A=o.cross(x,g)/E*e._torqueDampen*r.inverseInertia*(1-a.angularStiffness),r.constraintImpulse.angle+=A,r.angle+=A)}}},e.postSolveAll=function(a){for(var t=0;t<a.length;t++){var i=a[t],r=i.constraintImpulse;if(!(i.isStatic||r.x===0&&r.y===0&&r.angle===0)){s.set(i,!1);for(var c=0;c<i.parts.length;c++){var x=i.parts[c];l.translate(x.vertices,r),c>0&&(x.position.x+=r.x,x.position.y+=r.y),r.angle!==0&&(l.rotate(x.vertices,r.angle,i.position),n.rotate(x.axes,r.angle),c>0&&o.rotateAbout(x.position,r.angle,i.position,x.position)),u.update(x.bounds,x.vertices,i.velocity)}r.angle*=e._warming,r.x*=e._warming,r.y*=e._warming}}},e.pointAWorld=function(a){return{x:(a.bodyA?a.bodyA.position.x:0)+(a.pointA?a.pointA.x:0),y:(a.bodyA?a.bodyA.position.y:0)+(a.pointA?a.pointA.y:0)}},e.pointBWorld=function(a){return{x:(a.bodyB?a.bodyB.position.x:0)+(a.pointB?a.pointB.x:0),y:(a.bodyB?a.bodyB.position.y:0)+(a.pointB?a.pointB.y:0)}},e.currentLength=function(a){var t=(a.bodyA?a.bodyA.position.x:0)+(a.pointA?a.pointA.x:0),i=(a.bodyA?a.bodyA.position.y:0)+(a.pointA?a.pointA.y:0),r=(a.bodyB?a.bodyB.position.x:0)+(a.pointB?a.pointB.x:0),c=(a.bodyB?a.bodyB.position.y:0)+(a.pointB?a.pointB.y:0),x=t-r,y=i-c;return Math.sqrt(x*x+y*y)}})()},function(T,R,v){var e={};T.exports=e;var l=v(2),o=v(0);(function(){e.fromVertices=function(s){for(var u={},n=0;n<s.length;n++){var f=(n+1)%s.length,a=l.normalise({x:s[f].y-s[n].y,y:s[n].x-s[f].x}),t=a.y===0?1/0:a.x/a.y;t=t.toFixed(3).toString(),u[t]=a}return o.values(u)},e.rotate=function(s,u){if(u!==0)for(var n=Math.cos(u),f=Math.sin(u),a=0;a<s.length;a++){var t=s[a],i;i=t.x*n-t.y*f,t.y=t.x*f+t.y*n,t.x=i}}})()},function(T,R,v){var e={};T.exports=e;var l=v(3),o=v(0),s=v(4),u=v(1),n=v(2);(function(){e.rectangle=function(f,a,t,i,r){r=r||{};var c={label:"Rectangle Body",position:{x:f,y:a},vertices:l.fromPath("L 0 0 L "+t+" 0 L "+t+" "+i+" L 0 "+i)};if(r.chamfer){var x=r.chamfer;c.vertices=l.chamfer(c.vertices,x.radius,x.quality,x.qualityMin,x.qualityMax),delete r.chamfer}return s.create(o.extend({},c,r))},e.trapezoid=function(f,a,t,i,r,c){c=c||{},r>=1&&o.warn("Bodies.trapezoid: slope parameter must be < 1."),r*=.5;var x=(1-r*2)*t,y=t*r,S=y+x,P=S+y,m;r<.5?m="L 0 0 L "+y+" "+-i+" L "+S+" "+-i+" L "+P+" 0":m="L 0 0 L "+S+" "+-i+" L "+P+" 0";var h={label:"Trapezoid Body",position:{x:f,y:a},vertices:l.fromPath(m)};if(c.chamfer){var d=c.chamfer;h.vertices=l.chamfer(h.vertices,d.radius,d.quality,d.qualityMin,d.qualityMax),delete c.chamfer}return s.create(o.extend({},h,c))},e.circle=function(f,a,t,i,r){i=i||{};var c={label:"Circle Body",circleRadius:t};r=r||25;var x=Math.ceil(Math.max(10,Math.min(r,t)));return x%2===1&&(x+=1),e.polygon(f,a,x,t,o.extend({},c,i))},e.polygon=function(f,a,t,i,r){if(r=r||{},t<3)return e.circle(f,a,i,r);for(var c=2*Math.PI/t,x="",y=c*.5,S=0;S<t;S+=1){var P=y+S*c,m=Math.cos(P)*i,h=Math.sin(P)*i;x+="L "+m.toFixed(3)+" "+h.toFixed(3)+" "}var d={label:"Polygon Body",position:{x:f,y:a},vertices:l.fromPath(x)};if(r.chamfer){var p=r.chamfer;d.vertices=l.chamfer(d.vertices,p.radius,p.quality,p.qualityMin,p.qualityMax),delete r.chamfer}return s.create(o.extend({},d,r))},e.fromVertices=function(f,a,t,i,r,c,x,y){var S=o.getDecomp(),P,m,h,d,p,w,g,C,M,E,A;for(P=!!(S&&S.quickDecomp),i=i||{},h=[],r=typeof r<"u"?r:!1,c=typeof c<"u"?c:.01,x=typeof x<"u"?x:10,y=typeof y<"u"?y:.01,o.isArray(t[0])||(t=[t]),E=0;E<t.length;E+=1)if(w=t[E],d=l.isConvex(w),p=!d,p&&!P&&o.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),d||!P)d?w=l.clockwiseSort(w):w=l.hull(w),h.push({position:{x:f,y:a},vertices:w});else{var I=w.map(function(O){return[O.x,O.y]});S.makeCCW(I),c!==!1&&S.removeCollinearPoints(I,c),y!==!1&&S.removeDuplicatePoints&&S.removeDuplicatePoints(I,y);var L=S.quickDecomp(I);for(g=0;g<L.length;g++){var B=L[g],N=B.map(function(O){return{x:O[0],y:O[1]}});x>0&&l.area(N)<x||h.push({position:l.centre(N),vertices:N})}}for(g=0;g<h.length;g++)h[g]=s.create(o.extend(h[g],i));if(r){var j=5;for(g=0;g<h.length;g++){var W=h[g];for(C=g+1;C<h.length;C++){var z=h[C];if(u.overlaps(W.bounds,z.bounds)){var b=W.vertices,Q=z.vertices;for(M=0;M<W.vertices.length;M++)for(A=0;A<z.vertices.length;A++){var $=n.magnitudeSquared(n.sub(b[(M+1)%b.length],Q[A])),U=n.magnitudeSquared(n.sub(b[M],Q[(A+1)%Q.length]));$<j&&U<j&&(b[M].isInternal=!0,Q[A].isInternal=!0)}}}}}return h.length>1?(m=s.create(o.extend({parts:h.slice(0)},i)),s.setPosition(m,{x:f,y:a}),m):h[0]}})()},function(T,R,v){var e={};T.exports=e;var l=v(0),o=v(8);(function(){e.create=function(s){var u={bodies:[],collisions:[],pairs:null};return l.extend(u,s)},e.setBodies=function(s,u){s.bodies=u.slice(0)},e.clear=function(s){s.bodies=[],s.collisions=[]},e.collisions=function(s){var u=s.pairs,n=s.bodies,f=n.length,a=e.canCollide,t=o.collides,i=s.collisions,r=0,c,x;for(n.sort(e._compareBoundsX),c=0;c<f;c++){var y=n[c],S=y.bounds,P=y.bounds.max.x,m=y.bounds.max.y,h=y.bounds.min.y,d=y.isStatic||y.isSleeping,p=y.parts.length,w=p===1;for(x=c+1;x<f;x++){var g=n[x],C=g.bounds;if(C.min.x>P)break;if(!(m<C.min.y||h>C.max.y)&&!(d&&(g.isStatic||g.isSleeping))&&a(y.collisionFilter,g.collisionFilter)){var M=g.parts.length;if(w&&M===1){var E=t(y,g,u);E&&(i[r++]=E)}else for(var A=p>1?1:0,I=M>1?1:0,L=A;L<p;L++)for(var B=y.parts[L],S=B.bounds,N=I;N<M;N++){var j=g.parts[N],C=j.bounds;if(!(S.min.x>C.max.x||S.max.x<C.min.x||S.max.y<C.min.y||S.min.y>C.max.y)){var E=t(B,j,u);E&&(i[r++]=E)}}}}}return i.length!==r&&(i.length=r),i},e.canCollide=function(s,u){return s.group===u.group&&s.group!==0?s.group>0:(s.mask&u.category)!==0&&(u.mask&s.category)!==0},e._compareBoundsX=function(s,u){return s.bounds.min.x-u.bounds.min.x}})()},function(T,R,v){var e={};T.exports=e;var l=v(0);(function(){e.create=function(o){var s={};return o||l.log("Mouse.create: element was undefined, defaulting to document.body","warn"),s.element=o||document.body,s.absolute={x:0,y:0},s.position={x:0,y:0},s.mousedownPosition={x:0,y:0},s.mouseupPosition={x:0,y:0},s.offset={x:0,y:0},s.scale={x:1,y:1},s.wheelDelta=0,s.button=-1,s.pixelRatio=parseInt(s.element.getAttribute("data-pixel-ratio"),10)||1,s.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},s.mousemove=function(u){var n=e._getRelativeMousePosition(u,s.element,s.pixelRatio),f=u.changedTouches;f&&(s.button=0,u.preventDefault()),s.absolute.x=n.x,s.absolute.y=n.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y,s.sourceEvents.mousemove=u},s.mousedown=function(u){var n=e._getRelativeMousePosition(u,s.element,s.pixelRatio),f=u.changedTouches;f?(s.button=0,u.preventDefault()):s.button=u.button,s.absolute.x=n.x,s.absolute.y=n.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y,s.mousedownPosition.x=s.position.x,s.mousedownPosition.y=s.position.y,s.sourceEvents.mousedown=u},s.mouseup=function(u){var n=e._getRelativeMousePosition(u,s.element,s.pixelRatio),f=u.changedTouches;f&&u.preventDefault(),s.button=-1,s.absolute.x=n.x,s.absolute.y=n.y,s.position.x=s.absolute.x*s.scale.x+s.offset.x,s.position.y=s.absolute.y*s.scale.y+s.offset.y,s.mouseupPosition.x=s.position.x,s.mouseupPosition.y=s.position.y,s.sourceEvents.mouseup=u},s.mousewheel=function(u){s.wheelDelta=Math.max(-1,Math.min(1,u.wheelDelta||-u.detail)),u.preventDefault(),s.sourceEvents.mousewheel=u},e.setElement(s,s.element),s},e.setElement=function(o,s){o.element=s,s.addEventListener("mousemove",o.mousemove,{passive:!0}),s.addEventListener("mousedown",o.mousedown,{passive:!0}),s.addEventListener("mouseup",o.mouseup,{passive:!0}),s.addEventListener("wheel",o.mousewheel,{passive:!1}),s.addEventListener("touchmove",o.mousemove,{passive:!1}),s.addEventListener("touchstart",o.mousedown,{passive:!1}),s.addEventListener("touchend",o.mouseup,{passive:!1})},e.clearSourceEvents=function(o){o.sourceEvents.mousemove=null,o.sourceEvents.mousedown=null,o.sourceEvents.mouseup=null,o.sourceEvents.mousewheel=null,o.wheelDelta=0},e.setOffset=function(o,s){o.offset.x=s.x,o.offset.y=s.y,o.position.x=o.absolute.x*o.scale.x+o.offset.x,o.position.y=o.absolute.y*o.scale.y+o.offset.y},e.setScale=function(o,s){o.scale.x=s.x,o.scale.y=s.y,o.position.x=o.absolute.x*o.scale.x+o.offset.x,o.position.y=o.absolute.y*o.scale.y+o.offset.y},e._getRelativeMousePosition=function(o,s,u){var n=s.getBoundingClientRect(),f=document.documentElement||document.body.parentNode||document.body,a=window.pageXOffset!==void 0?window.pageXOffset:f.scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:f.scrollTop,i=o.changedTouches,r,c;return i?(r=i[0].pageX-n.left-a,c=i[0].pageY-n.top-t):(r=o.pageX-n.left-a,c=o.pageY-n.top-t),{x:r/(s.clientWidth/(s.width||s.clientWidth)*u),y:c/(s.clientHeight/(s.height||s.clientHeight)*u)}}})()},function(T,R,v){var e={};T.exports=e;var l=v(0);(function(){e._registry={},e.register=function(o){if(e.isPlugin(o)||l.warn("Plugin.register:",e.toString(o),"does not implement all required fields."),o.name in e._registry){var s=e._registry[o.name],u=e.versionParse(o.version).number,n=e.versionParse(s.version).number;u>n?(l.warn("Plugin.register:",e.toString(s),"was upgraded to",e.toString(o)),e._registry[o.name]=o):u<n?l.warn("Plugin.register:",e.toString(s),"can not be downgraded to",e.toString(o)):o!==s&&l.warn("Plugin.register:",e.toString(o),"is already registered to different plugin object")}else e._registry[o.name]=o;return o},e.resolve=function(o){return e._registry[e.dependencyParse(o).name]},e.toString=function(o){return typeof o=="string"?o:(o.name||"anonymous")+"@"+(o.version||o.range||"0.0.0")},e.isPlugin=function(o){return o&&o.name&&o.version&&o.install},e.isUsed=function(o,s){return o.used.indexOf(s)>-1},e.isFor=function(o,s){var u=o.for&&e.dependencyParse(o.for);return!o.for||s.name===u.name&&e.versionSatisfies(s.version,u.range)},e.use=function(o,s){if(o.uses=(o.uses||[]).concat(s||[]),o.uses.length===0){l.warn("Plugin.use:",e.toString(o),"does not specify any dependencies to install.");return}for(var u=e.dependencies(o),n=l.topologicalSort(u),f=[],a=0;a<n.length;a+=1)if(n[a]!==o.name){var t=e.resolve(n[a]);if(!t){f.push("âŒ "+n[a]);continue}e.isUsed(o,t.name)||(e.isFor(t,o)||(l.warn("Plugin.use:",e.toString(t),"is for",t.for,"but installed on",e.toString(o)+"."),t._warned=!0),t.install?t.install(o):(l.warn("Plugin.use:",e.toString(t),"does not specify an install function."),t._warned=!0),t._warned?(f.push("ðŸ”¶ "+e.toString(t)),delete t._warned):f.push("âœ… "+e.toString(t)),o.used.push(t.name))}f.length>0&&l.info(f.join("  "))},e.dependencies=function(o,s){var u=e.dependencyParse(o),n=u.name;if(s=s||{},!(n in s)){o=e.resolve(o)||o,s[n]=l.map(o.uses||[],function(a){e.isPlugin(a)&&e.register(a);var t=e.dependencyParse(a),i=e.resolve(a);return i&&!e.versionSatisfies(i.version,t.range)?(l.warn("Plugin.dependencies:",e.toString(i),"does not satisfy",e.toString(t),"used by",e.toString(u)+"."),i._warned=!0,o._warned=!0):i||(l.warn("Plugin.dependencies:",e.toString(a),"used by",e.toString(u),"could not be resolved."),o._warned=!0),t.name});for(var f=0;f<s[n].length;f+=1)e.dependencies(s[n][f],s);return s}},e.dependencyParse=function(o){if(l.isString(o)){var s=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return s.test(o)||l.warn("Plugin.dependencyParse:",o,"is not a valid dependency string."),{name:o.split("@")[0],range:o.split("@")[1]||"*"}}return{name:o.name,range:o.range||o.version}},e.versionParse=function(o){var s=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;s.test(o)||l.warn("Plugin.versionParse:",o,"is not a valid version or range.");var u=s.exec(o),n=Number(u[4]),f=Number(u[5]),a=Number(u[6]);return{isRange:!!(u[1]||u[2]),version:u[3],range:o,operator:u[1]||u[2]||"",major:n,minor:f,patch:a,parts:[n,f,a],prerelease:u[7],number:n*1e8+f*1e4+a}},e.versionSatisfies=function(o,s){s=s||"*";var u=e.versionParse(s),n=e.versionParse(o);if(u.isRange){if(u.operator==="*"||o==="*")return!0;if(u.operator===">")return n.number>u.number;if(u.operator===">=")return n.number>=u.number;if(u.operator==="~")return n.major===u.major&&n.minor===u.minor&&n.patch>=u.patch;if(u.operator==="^")return u.major>0?n.major===u.major&&n.number>=u.number:u.minor>0?n.minor===u.minor&&n.patch>=u.patch:n.patch===u.patch}return o===s||o==="*"}})()},function(T,R){var v={};T.exports=v,function(){v.create=function(e){return{vertex:e,normalImpulse:0,tangentImpulse:0}}}()},function(T,R,v){var e={};T.exports=e;var l=v(7),o=v(18),s=v(13),u=v(19),n=v(5),f=v(6),a=v(10),t=v(0),i=v(4);(function(){e._deltaMax=1e3/60,e.create=function(r){r=r||{};var c={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},x=t.extend(c,r);return x.world=r.world||f.create({label:"World"}),x.pairs=r.pairs||u.create(),x.detector=r.detector||s.create(),x.detector.pairs=x.pairs,x.grid={buckets:[]},x.world.gravity=x.gravity,x.broadphase=x.grid,x.metrics={},x},e.update=function(r,c){var x=t.now(),y=r.world,S=r.detector,P=r.pairs,m=r.timing,h=m.timestamp,d;c>e._deltaMax&&t.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",e._deltaMax.toFixed(3),"ms."),c=typeof c<"u"?c:t._baseDelta,c*=m.timeScale,m.timestamp+=c,m.lastDelta=c;var p={timestamp:m.timestamp,delta:c};n.trigger(r,"beforeUpdate",p);var w=f.allBodies(y),g=f.allConstraints(y);for(y.isModified&&(s.setBodies(S,w),f.setModified(y,!1,!1,!0)),r.enableSleeping&&l.update(w,c),e._bodiesApplyGravity(w,r.gravity),c>0&&e._bodiesUpdate(w,c),n.trigger(r,"beforeSolve",p),a.preSolveAll(w),d=0;d<r.constraintIterations;d++)a.solveAll(g,c);a.postSolveAll(w);var C=s.collisions(S);u.update(P,C,h),r.enableSleeping&&l.afterCollisions(P.list),P.collisionStart.length>0&&n.trigger(r,"collisionStart",{pairs:P.collisionStart,timestamp:m.timestamp,delta:c});var M=t.clamp(20/r.positionIterations,0,1);for(o.preSolvePosition(P.list),d=0;d<r.positionIterations;d++)o.solvePosition(P.list,c,M);for(o.postSolvePosition(w),a.preSolveAll(w),d=0;d<r.constraintIterations;d++)a.solveAll(g,c);for(a.postSolveAll(w),o.preSolveVelocity(P.list),d=0;d<r.velocityIterations;d++)o.solveVelocity(P.list,c);return e._bodiesUpdateVelocities(w),P.collisionActive.length>0&&n.trigger(r,"collisionActive",{pairs:P.collisionActive,timestamp:m.timestamp,delta:c}),P.collisionEnd.length>0&&n.trigger(r,"collisionEnd",{pairs:P.collisionEnd,timestamp:m.timestamp,delta:c}),e._bodiesClearForces(w),n.trigger(r,"afterUpdate",p),r.timing.lastElapsed=t.now()-x,r},e.merge=function(r,c){if(t.extend(r,c),c.world){r.world=c.world,e.clear(r);for(var x=f.allBodies(r.world),y=0;y<x.length;y++){var S=x[y];l.set(S,!1),S.id=t.nextId()}}},e.clear=function(r){u.clear(r.pairs),s.clear(r.detector)},e._bodiesClearForces=function(r){for(var c=r.length,x=0;x<c;x++){var y=r[x];y.force.x=0,y.force.y=0,y.torque=0}},e._bodiesApplyGravity=function(r,c){var x=typeof c.scale<"u"?c.scale:.001,y=r.length;if(!(c.x===0&&c.y===0||x===0))for(var S=0;S<y;S++){var P=r[S];P.isStatic||P.isSleeping||(P.force.y+=P.mass*c.y*x,P.force.x+=P.mass*c.x*x)}},e._bodiesUpdate=function(r,c){for(var x=r.length,y=0;y<x;y++){var S=r[y];S.isStatic||S.isSleeping||i.update(S,c)}},e._bodiesUpdateVelocities=function(r){for(var c=r.length,x=0;x<c;x++)i.updateVelocities(r[x])}})()},function(T,R,v){var e={};T.exports=e;var l=v(3),o=v(0),s=v(1);(function(){e._restingThresh=2,e._restingThreshTangent=Math.sqrt(6),e._positionDampen=.9,e._positionWarming=.8,e._frictionNormalMultiplier=5,e._frictionMaxStatic=Number.MAX_VALUE,e.preSolvePosition=function(u){var n,f,a,t=u.length;for(n=0;n<t;n++)f=u[n],f.isActive&&(a=f.contactCount,f.collision.parentA.totalContacts+=a,f.collision.parentB.totalContacts+=a)},e.solvePosition=function(u,n,f){var a,t,i,r,c,x,y,S,P=e._positionDampen*(f||1),m=o.clamp(n/o._baseDelta,0,1),h=u.length;for(a=0;a<h;a++)t=u[a],!(!t.isActive||t.isSensor)&&(i=t.collision,r=i.parentA,c=i.parentB,x=i.normal,t.separation=i.depth+x.x*(c.positionImpulse.x-r.positionImpulse.x)+x.y*(c.positionImpulse.y-r.positionImpulse.y));for(a=0;a<h;a++)t=u[a],!(!t.isActive||t.isSensor)&&(i=t.collision,r=i.parentA,c=i.parentB,x=i.normal,S=t.separation-t.slop*m,(r.isStatic||c.isStatic)&&(S*=2),r.isStatic||r.isSleeping||(y=P/r.totalContacts,r.positionImpulse.x+=x.x*S*y,r.positionImpulse.y+=x.y*S*y),c.isStatic||c.isSleeping||(y=P/c.totalContacts,c.positionImpulse.x-=x.x*S*y,c.positionImpulse.y-=x.y*S*y))},e.postSolvePosition=function(u){for(var n=e._positionWarming,f=u.length,a=l.translate,t=s.update,i=0;i<f;i++){var r=u[i],c=r.positionImpulse,x=c.x,y=c.y,S=r.velocity;if(r.totalContacts=0,x!==0||y!==0){for(var P=0;P<r.parts.length;P++){var m=r.parts[P];a(m.vertices,c),t(m.bounds,m.vertices,S),m.position.x+=x,m.position.y+=y}r.positionPrev.x+=x,r.positionPrev.y+=y,x*S.x+y*S.y<0?(c.x=0,c.y=0):(c.x*=n,c.y*=n)}}},e.preSolveVelocity=function(u){var n=u.length,f,a;for(f=0;f<n;f++){var t=u[f];if(!(!t.isActive||t.isSensor)){var i=t.contacts,r=t.contactCount,c=t.collision,x=c.parentA,y=c.parentB,S=c.normal,P=c.tangent;for(a=0;a<r;a++){var m=i[a],h=m.vertex,d=m.normalImpulse,p=m.tangentImpulse;if(d!==0||p!==0){var w=S.x*d+P.x*p,g=S.y*d+P.y*p;x.isStatic||x.isSleeping||(x.positionPrev.x+=w*x.inverseMass,x.positionPrev.y+=g*x.inverseMass,x.anglePrev+=x.inverseInertia*((h.x-x.position.x)*g-(h.y-x.position.y)*w)),y.isStatic||y.isSleeping||(y.positionPrev.x-=w*y.inverseMass,y.positionPrev.y-=g*y.inverseMass,y.anglePrev-=y.inverseInertia*((h.x-y.position.x)*g-(h.y-y.position.y)*w))}}}}},e.solveVelocity=function(u,n){var f=n/o._baseDelta,a=f*f,t=a*f,i=-e._restingThresh*f,r=e._restingThreshTangent,c=e._frictionNormalMultiplier*f,x=e._frictionMaxStatic,y=u.length,S,P,m,h;for(m=0;m<y;m++){var d=u[m];if(!(!d.isActive||d.isSensor)){var p=d.collision,w=p.parentA,g=p.parentB,C=p.normal.x,M=p.normal.y,E=p.tangent.x,A=p.tangent.y,I=d.inverseMass,L=d.friction*d.frictionStatic*c,B=d.contacts,N=d.contactCount,j=1/N,W=w.position.x-w.positionPrev.x,z=w.position.y-w.positionPrev.y,b=w.angle-w.anglePrev,Q=g.position.x-g.positionPrev.x,$=g.position.y-g.positionPrev.y,U=g.angle-g.anglePrev;for(h=0;h<N;h++){var O=B[h],K=O.vertex,G=K.x-w.position.x,_=K.y-w.position.y,J=K.x-g.position.x,Y=K.y-g.position.y,X=W-_*b,Ne=z+G*b,Oe=Q-Y*U,je=$+J*U,he=X-Oe,de=Ne-je,oe=C*he+M*de,q=E*he+A*de,ge=d.separation+oe,le=Math.min(ge,1);le=ge<0?0:le;var ye=le*L;q<-ye||q>ye?(P=q>0?q:-q,S=d.friction*(q>0?1:-1)*t,S<-P?S=-P:S>P&&(S=P)):(S=q,P=x);var Se=G*M-_*C,we=J*M-Y*C,Ce=j/(I+w.inverseInertia*Se*Se+g.inverseInertia*we*we),te=(1+d.restitution)*oe*Ce;if(S*=Ce,oe<i)O.normalImpulse=0;else{var Ve=O.normalImpulse;O.normalImpulse+=te,O.normalImpulse>0&&(O.normalImpulse=0),te=O.normalImpulse-Ve}if(q<-r||q>r)O.tangentImpulse=0;else{var He=O.tangentImpulse;O.tangentImpulse+=S,O.tangentImpulse<-P&&(O.tangentImpulse=-P),O.tangentImpulse>P&&(O.tangentImpulse=P),S=O.tangentImpulse-He}var ne=C*te+E*S,ie=M*te+A*S;w.isStatic||w.isSleeping||(w.positionPrev.x+=ne*w.inverseMass,w.positionPrev.y+=ie*w.inverseMass,w.anglePrev+=(G*ie-_*ne)*w.inverseInertia),g.isStatic||g.isSleeping||(g.positionPrev.x-=ne*g.inverseMass,g.positionPrev.y-=ie*g.inverseMass,g.anglePrev-=(J*ie-Y*ne)*g.inverseInertia)}}}}})()},function(T,R,v){var e={};T.exports=e;var l=v(9),o=v(0);(function(){e.create=function(s){return o.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},s)},e.update=function(s,u,n){var f=l.update,a=l.create,t=l.setActive,i=s.table,r=s.list,c=r.length,x=c,y=s.collisionStart,S=s.collisionEnd,P=s.collisionActive,m=u.length,h=0,d=0,p=0,w,g,C;for(C=0;C<m;C++)w=u[C],g=w.pair,g?(g.isActive&&(P[p++]=g),f(g,w,n)):(g=a(w,n),i[g.id]=g,y[h++]=g,r[x++]=g);for(x=0,c=r.length,C=0;C<c;C++)g=r[C],g.timeUpdated>=n?r[x++]=g:(t(g,!1,n),g.collision.bodyA.sleepCounter>0&&g.collision.bodyB.sleepCounter>0?r[x++]=g:(S[d++]=g,delete i[g.id]));r.length!==x&&(r.length=x),y.length!==h&&(y.length=h),S.length!==d&&(S.length=d),P.length!==p&&(P.length=p)},e.clear=function(s){return s.table={},s.list.length=0,s.collisionStart.length=0,s.collisionActive.length=0,s.collisionEnd.length=0,s}})()},function(T,R,v){var e=T.exports=v(21);e.Axes=v(11),e.Bodies=v(12),e.Body=v(4),e.Bounds=v(1),e.Collision=v(8),e.Common=v(0),e.Composite=v(6),e.Composites=v(22),e.Constraint=v(10),e.Contact=v(16),e.Detector=v(13),e.Engine=v(17),e.Events=v(5),e.Grid=v(23),e.Mouse=v(14),e.MouseConstraint=v(24),e.Pair=v(9),e.Pairs=v(19),e.Plugin=v(15),e.Query=v(25),e.Render=v(26),e.Resolver=v(18),e.Runner=v(27),e.SAT=v(28),e.Sleeping=v(7),e.Svg=v(29),e.Vector=v(2),e.Vertices=v(3),e.World=v(30),e.Engine.run=e.Runner.run,e.Common.deprecated(e.Engine,"run","Engine.run âž¤ use Matter.Runner.run(engine) instead")},function(T,R,v){var e={};T.exports=e;var l=v(15),o=v(0);(function(){e.name="matter-js",e.version="0.20.0",e.uses=[],e.used=[],e.use=function(){l.use(e,Array.prototype.slice.call(arguments))},e.before=function(s,u){return s=s.replace(/^Matter./,""),o.chainPathBefore(e,s,u)},e.after=function(s,u){return s=s.replace(/^Matter./,""),o.chainPathAfter(e,s,u)}})()},function(T,R,v){var e={};T.exports=e;var l=v(6),o=v(10),s=v(0),u=v(4),n=v(12),f=s.deprecated;(function(){e.stack=function(a,t,i,r,c,x,y){for(var S=l.create({label:"Stack"}),P=a,m=t,h,d=0,p=0;p<r;p++){for(var w=0,g=0;g<i;g++){var C=y(P,m,g,p,h,d);if(C){var M=C.bounds.max.y-C.bounds.min.y,E=C.bounds.max.x-C.bounds.min.x;M>w&&(w=M),u.translate(C,{x:E*.5,y:M*.5}),P=C.bounds.max.x+c,l.addBody(S,C),h=C,d+=1}else P+=c}m+=w+x,P=a}return S},e.chain=function(a,t,i,r,c,x){for(var y=a.bodies,S=1;S<y.length;S++){var P=y[S-1],m=y[S],h=P.bounds.max.y-P.bounds.min.y,d=P.bounds.max.x-P.bounds.min.x,p=m.bounds.max.y-m.bounds.min.y,w=m.bounds.max.x-m.bounds.min.x,g={bodyA:P,pointA:{x:d*t,y:h*i},bodyB:m,pointB:{x:w*r,y:p*c}},C=s.extend(g,x);l.addConstraint(a,o.create(C))}return a.label+=" Chain",a},e.mesh=function(a,t,i,r,c){var x=a.bodies,y,S,P,m,h;for(y=0;y<i;y++){for(S=1;S<t;S++)P=x[S-1+y*t],m=x[S+y*t],l.addConstraint(a,o.create(s.extend({bodyA:P,bodyB:m},c)));if(y>0)for(S=0;S<t;S++)P=x[S+(y-1)*t],m=x[S+y*t],l.addConstraint(a,o.create(s.extend({bodyA:P,bodyB:m},c))),r&&S>0&&(h=x[S-1+(y-1)*t],l.addConstraint(a,o.create(s.extend({bodyA:h,bodyB:m},c)))),r&&S<t-1&&(h=x[S+1+(y-1)*t],l.addConstraint(a,o.create(s.extend({bodyA:h,bodyB:m},c))))}return a.label+=" Mesh",a},e.pyramid=function(a,t,i,r,c,x,y){return e.stack(a,t,i,r,c,x,function(S,P,m,h,d,p){var w=Math.min(r,Math.ceil(i/2)),g=d?d.bounds.max.x-d.bounds.min.x:0;if(!(h>w)){h=w-h;var C=h,M=i-1-h;if(!(m<C||m>M)){p===1&&u.translate(d,{x:(m+(i%2===1?1:-1))*g,y:0});var E=d?m*g:0;return y(a+E+m*c,P,m,h,d,p)}}})},e.newtonsCradle=function(a,t,i,r,c){for(var x=l.create({label:"Newtons Cradle"}),y=0;y<i;y++){var S=1.9,P=n.circle(a+y*(r*S),t+c,r,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),m=o.create({pointA:{x:a+y*(r*S),y:t},bodyB:P});l.addBody(x,P),l.addConstraint(x,m)}return x},f(e,"newtonsCradle","Composites.newtonsCradle âž¤ moved to newtonsCradle example"),e.car=function(a,t,i,r,c){var x=u.nextGroup(!0),y=20,S=-i*.5+y,P=i*.5-y,m=0,h=l.create({label:"Car"}),d=n.rectangle(a,t,i,r,{collisionFilter:{group:x},chamfer:{radius:r*.5},density:2e-4}),p=n.circle(a+S,t+m,c,{collisionFilter:{group:x},friction:.8}),w=n.circle(a+P,t+m,c,{collisionFilter:{group:x},friction:.8}),g=o.create({bodyB:d,pointB:{x:S,y:m},bodyA:p,stiffness:1,length:0}),C=o.create({bodyB:d,pointB:{x:P,y:m},bodyA:w,stiffness:1,length:0});return l.addBody(h,d),l.addBody(h,p),l.addBody(h,w),l.addConstraint(h,g),l.addConstraint(h,C),h},f(e,"car","Composites.car âž¤ moved to car example"),e.softBody=function(a,t,i,r,c,x,y,S,P,m){P=s.extend({inertia:1/0},P),m=s.extend({stiffness:.2,render:{type:"line",anchors:!1}},m);var h=e.stack(a,t,i,r,c,x,function(d,p){return n.circle(d,p,S,P)});return e.mesh(h,i,r,y,m),h.label="Soft Body",h},f(e,"softBody","Composites.softBody âž¤ moved to softBody and cloth examples")})()},function(T,R,v){var e={};T.exports=e;var l=v(9),o=v(0),s=o.deprecated;(function(){e.create=function(u){var n={buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return o.extend(n,u)},e.update=function(u,n,f,a){var t,i,r,c=f.world,x=u.buckets,y,S,P=!1;for(t=0;t<n.length;t++){var m=n[t];if(!(m.isSleeping&&!a)&&!(c.bounds&&(m.bounds.max.x<c.bounds.min.x||m.bounds.min.x>c.bounds.max.x||m.bounds.max.y<c.bounds.min.y||m.bounds.min.y>c.bounds.max.y))){var h=e._getRegion(u,m);if(!m.region||h.id!==m.region.id||a){(!m.region||a)&&(m.region=h);var d=e._regionUnion(h,m.region);for(i=d.startCol;i<=d.endCol;i++)for(r=d.startRow;r<=d.endRow;r++){S=e._getBucketId(i,r),y=x[S];var p=i>=h.startCol&&i<=h.endCol&&r>=h.startRow&&r<=h.endRow,w=i>=m.region.startCol&&i<=m.region.endCol&&r>=m.region.startRow&&r<=m.region.endRow;!p&&w&&w&&y&&e._bucketRemoveBody(u,y,m),(m.region===h||p&&!w||a)&&(y||(y=e._createBucket(x,S)),e._bucketAddBody(u,y,m))}m.region=h,P=!0}}}P&&(u.pairsList=e._createActivePairsList(u))},s(e,"update","Grid.update âž¤ replaced by Matter.Detector"),e.clear=function(u){u.buckets={},u.pairs={},u.pairsList=[]},s(e,"clear","Grid.clear âž¤ replaced by Matter.Detector"),e._regionUnion=function(u,n){var f=Math.min(u.startCol,n.startCol),a=Math.max(u.endCol,n.endCol),t=Math.min(u.startRow,n.startRow),i=Math.max(u.endRow,n.endRow);return e._createRegion(f,a,t,i)},e._getRegion=function(u,n){var f=n.bounds,a=Math.floor(f.min.x/u.bucketWidth),t=Math.floor(f.max.x/u.bucketWidth),i=Math.floor(f.min.y/u.bucketHeight),r=Math.floor(f.max.y/u.bucketHeight);return e._createRegion(a,t,i,r)},e._createRegion=function(u,n,f,a){return{id:u+","+n+","+f+","+a,startCol:u,endCol:n,startRow:f,endRow:a}},e._getBucketId=function(u,n){return"C"+u+"R"+n},e._createBucket=function(u,n){var f=u[n]=[];return f},e._bucketAddBody=function(u,n,f){var a=u.pairs,t=l.id,i=n.length,r;for(r=0;r<i;r++){var c=n[r];if(!(f.id===c.id||f.isStatic&&c.isStatic)){var x=t(f,c),y=a[x];y?y[2]+=1:a[x]=[f,c,1]}}n.push(f)},e._bucketRemoveBody=function(u,n,f){var a=u.pairs,t=l.id,i;n.splice(o.indexOf(n,f),1);var r=n.length;for(i=0;i<r;i++){var c=a[t(f,n[i])];c&&(c[2]-=1)}},e._createActivePairsList=function(u){var n,f=u.pairs,a=o.keys(f),t=a.length,i=[],r;for(r=0;r<t;r++)n=f[a[r]],n[2]>0?i.push(n):delete f[a[r]];return i}})()},function(T,R,v){var e={};T.exports=e;var l=v(3),o=v(7),s=v(14),u=v(5),n=v(13),f=v(10),a=v(6),t=v(0),i=v(1);(function(){e.create=function(r,c){var x=(r?r.mouse:null)||(c?c.mouse:null);x||(r&&r.render&&r.render.canvas?x=s.create(r.render.canvas):c&&c.element?x=s.create(c.element):(x=s.create(),t.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var y=f.create({label:"Mouse Constraint",pointA:x.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),S={type:"mouseConstraint",mouse:x,element:null,body:null,constraint:y,collisionFilter:{category:1,mask:4294967295,group:0}},P=t.extend(S,c);return u.on(r,"beforeUpdate",function(){var m=a.allBodies(r.world);e.update(P,m),e._triggerEvents(P)}),P},e.update=function(r,c){var x=r.mouse,y=r.constraint,S=r.body;if(x.button===0){if(y.bodyB)o.set(y.bodyB,!1),y.pointA=x.position;else for(var P=0;P<c.length;P++)if(S=c[P],i.contains(S.bounds,x.position)&&n.canCollide(S.collisionFilter,r.collisionFilter))for(var m=S.parts.length>1?1:0;m<S.parts.length;m++){var h=S.parts[m];if(l.contains(h.vertices,x.position)){y.pointA=x.position,y.bodyB=r.body=S,y.pointB={x:x.position.x-S.position.x,y:x.position.y-S.position.y},y.angleB=S.angle,o.set(S,!1),u.trigger(r,"startdrag",{mouse:x,body:S});break}}}else y.bodyB=r.body=null,y.pointB=null,S&&u.trigger(r,"enddrag",{mouse:x,body:S})},e._triggerEvents=function(r){var c=r.mouse,x=c.sourceEvents;x.mousemove&&u.trigger(r,"mousemove",{mouse:c}),x.mousedown&&u.trigger(r,"mousedown",{mouse:c}),x.mouseup&&u.trigger(r,"mouseup",{mouse:c}),s.clearSourceEvents(c)}})()},function(T,R,v){var e={};T.exports=e;var l=v(2),o=v(8),s=v(1),u=v(12),n=v(3);(function(){e.collides=function(f,a){for(var t=[],i=a.length,r=f.bounds,c=o.collides,x=s.overlaps,y=0;y<i;y++){var S=a[y],P=S.parts.length,m=P===1?0:1;if(x(S.bounds,r))for(var h=m;h<P;h++){var d=S.parts[h];if(x(d.bounds,r)){var p=c(d,f);if(p){t.push(p);break}}}}return t},e.ray=function(f,a,t,i){i=i||1e-100;for(var r=l.angle(a,t),c=l.magnitude(l.sub(a,t)),x=(t.x+a.x)*.5,y=(t.y+a.y)*.5,S=u.rectangle(x,y,c,i,{angle:r}),P=e.collides(S,f),m=0;m<P.length;m+=1){var h=P[m];h.body=h.bodyB=h.bodyA}return P},e.region=function(f,a,t){for(var i=[],r=0;r<f.length;r++){var c=f[r],x=s.overlaps(c.bounds,a);(x&&!t||!x&&t)&&i.push(c)}return i},e.point=function(f,a){for(var t=[],i=0;i<f.length;i++){var r=f[i];if(s.contains(r.bounds,a))for(var c=r.parts.length===1?0:1;c<r.parts.length;c++){var x=r.parts[c];if(s.contains(x.bounds,a)&&n.contains(x.vertices,a)){t.push(r);break}}}return t}})()},function(T,R,v){var e={};T.exports=e;var l=v(4),o=v(0),s=v(6),u=v(1),n=v(5),f=v(2),a=v(14);(function(){var t,i;typeof window<"u"&&(t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(m){window.setTimeout(function(){m(o.now())},1e3/60)},i=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e._goodFps=30,e._goodDelta=1e3/60,e.create=function(m){var h={engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,timing:{historySize:60,delta:0,deltaHistory:[],lastTime:0,lastTimestamp:0,lastElapsed:0,timestampElapsed:0,timestampElapsedHistory:[],engineDeltaHistory:[],engineElapsedHistory:[],engineUpdatesHistory:[],elapsedHistory:[]},options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",wireframeStrokeStyle:"#bbb",hasBounds:!!m.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showStats:!1,showPerformance:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},d=o.extend(h,m);return d.canvas&&(d.canvas.width=d.options.width||d.canvas.width,d.canvas.height=d.options.height||d.canvas.height),d.mouse=m.mouse,d.engine=m.engine,d.canvas=d.canvas||x(d.options.width,d.options.height),d.context=d.canvas.getContext("2d"),d.textures={},d.bounds=d.bounds||{min:{x:0,y:0},max:{x:d.canvas.width,y:d.canvas.height}},d.controller=e,d.options.showBroadphase=!1,d.options.pixelRatio!==1&&e.setPixelRatio(d,d.options.pixelRatio),o.isElement(d.element)&&d.element.appendChild(d.canvas),d},e.run=function(m){(function h(d){m.frameRequestId=t(h),r(m,d),e.world(m,d),m.context.setTransform(m.options.pixelRatio,0,0,m.options.pixelRatio,0,0),(m.options.showStats||m.options.showDebug)&&e.stats(m,m.context,d),(m.options.showPerformance||m.options.showDebug)&&e.performance(m,m.context,d),m.context.setTransform(1,0,0,1,0,0)})()},e.stop=function(m){i(m.frameRequestId)},e.setPixelRatio=function(m,h){var d=m.options,p=m.canvas;h==="auto"&&(h=y(p)),d.pixelRatio=h,p.setAttribute("data-pixel-ratio",h),p.width=d.width*h,p.height=d.height*h,p.style.width=d.width+"px",p.style.height=d.height+"px"},e.setSize=function(m,h,d){m.options.width=h,m.options.height=d,m.bounds.max.x=m.bounds.min.x+h,m.bounds.max.y=m.bounds.min.y+d,m.options.pixelRatio!==1?e.setPixelRatio(m,m.options.pixelRatio):(m.canvas.width=h,m.canvas.height=d)},e.lookAt=function(m,h,d,p){p=typeof p<"u"?p:!0,h=o.isArray(h)?h:[h],d=d||{x:0,y:0};for(var w={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},g=0;g<h.length;g+=1){var C=h[g],M=C.bounds?C.bounds.min:C.min||C.position||C,E=C.bounds?C.bounds.max:C.max||C.position||C;M&&E&&(M.x<w.min.x&&(w.min.x=M.x),E.x>w.max.x&&(w.max.x=E.x),M.y<w.min.y&&(w.min.y=M.y),E.y>w.max.y&&(w.max.y=E.y))}var A=w.max.x-w.min.x+2*d.x,I=w.max.y-w.min.y+2*d.y,L=m.canvas.height,B=m.canvas.width,N=B/L,j=A/I,W=1,z=1;j>N?z=j/N:W=N/j,m.options.hasBounds=!0,m.bounds.min.x=w.min.x,m.bounds.max.x=w.min.x+A*W,m.bounds.min.y=w.min.y,m.bounds.max.y=w.min.y+I*z,p&&(m.bounds.min.x+=A*.5-A*W*.5,m.bounds.max.x+=A*.5-A*W*.5,m.bounds.min.y+=I*.5-I*z*.5,m.bounds.max.y+=I*.5-I*z*.5),m.bounds.min.x-=d.x,m.bounds.max.x-=d.x,m.bounds.min.y-=d.y,m.bounds.max.y-=d.y,m.mouse&&(a.setScale(m.mouse,{x:(m.bounds.max.x-m.bounds.min.x)/m.canvas.width,y:(m.bounds.max.y-m.bounds.min.y)/m.canvas.height}),a.setOffset(m.mouse,m.bounds.min))},e.startViewTransform=function(m){var h=m.bounds.max.x-m.bounds.min.x,d=m.bounds.max.y-m.bounds.min.y,p=h/m.options.width,w=d/m.options.height;m.context.setTransform(m.options.pixelRatio/p,0,0,m.options.pixelRatio/w,0,0),m.context.translate(-m.bounds.min.x,-m.bounds.min.y)},e.endViewTransform=function(m){m.context.setTransform(m.options.pixelRatio,0,0,m.options.pixelRatio,0,0)},e.world=function(m,h){var d=o.now(),p=m.engine,w=p.world,g=m.canvas,C=m.context,M=m.options,E=m.timing,A=s.allBodies(w),I=s.allConstraints(w),L=M.wireframes?M.wireframeBackground:M.background,B=[],N=[],j,W={timestamp:p.timing.timestamp};if(n.trigger(m,"beforeRender",W),m.currentBackground!==L&&P(m,L),C.globalCompositeOperation="source-in",C.fillStyle="transparent",C.fillRect(0,0,g.width,g.height),C.globalCompositeOperation="source-over",M.hasBounds){for(j=0;j<A.length;j++){var z=A[j];u.overlaps(z.bounds,m.bounds)&&B.push(z)}for(j=0;j<I.length;j++){var b=I[j],Q=b.bodyA,$=b.bodyB,U=b.pointA,O=b.pointB;Q&&(U=f.add(Q.position,b.pointA)),$&&(O=f.add($.position,b.pointB)),!(!U||!O)&&(u.contains(m.bounds,U)||u.contains(m.bounds,O))&&N.push(b)}e.startViewTransform(m),m.mouse&&(a.setScale(m.mouse,{x:(m.bounds.max.x-m.bounds.min.x)/m.options.width,y:(m.bounds.max.y-m.bounds.min.y)/m.options.height}),a.setOffset(m.mouse,m.bounds.min))}else N=I,B=A,m.options.pixelRatio!==1&&m.context.setTransform(m.options.pixelRatio,0,0,m.options.pixelRatio,0,0);!M.wireframes||p.enableSleeping&&M.showSleeping?e.bodies(m,B,C):(M.showConvexHulls&&e.bodyConvexHulls(m,B,C),e.bodyWireframes(m,B,C)),M.showBounds&&e.bodyBounds(m,B,C),(M.showAxes||M.showAngleIndicator)&&e.bodyAxes(m,B,C),M.showPositions&&e.bodyPositions(m,B,C),M.showVelocity&&e.bodyVelocity(m,B,C),M.showIds&&e.bodyIds(m,B,C),M.showSeparations&&e.separations(m,p.pairs.list,C),M.showCollisions&&e.collisions(m,p.pairs.list,C),M.showVertexNumbers&&e.vertexNumbers(m,B,C),M.showMousePosition&&e.mousePosition(m,m.mouse,C),e.constraints(N,C),M.hasBounds&&e.endViewTransform(m),n.trigger(m,"afterRender",W),E.lastElapsed=o.now()-d},e.stats=function(m,h,d){for(var p=m.engine,w=p.world,g=s.allBodies(w),C=0,M=55,E=44,A=0,I=0,L=0;L<g.length;L+=1)C+=g[L].parts.length;var B={Part:C,Body:g.length,Cons:s.allConstraints(w).length,Comp:s.allComposites(w).length,Pair:p.pairs.list.length};h.fillStyle="#0e0f19",h.fillRect(A,I,M*5.5,E),h.font="12px Arial",h.textBaseline="top",h.textAlign="right";for(var N in B){var j=B[N];h.fillStyle="#aaa",h.fillText(N,A+M,I+8),h.fillStyle="#eee",h.fillText(j,A+M,I+26),A+=M}},e.performance=function(m,h){var d=m.engine,p=m.timing,w=p.deltaHistory,g=p.elapsedHistory,C=p.timestampElapsedHistory,M=p.engineDeltaHistory,E=p.engineUpdatesHistory,A=p.engineElapsedHistory,I=d.timing.lastUpdatesPerFrame,L=d.timing.lastDelta,B=c(w),N=c(g),j=c(M),W=c(E),z=c(A),b=c(C),Q=b/B||0,$=Math.round(B/L),U=1e3/B||0,O=4,K=12,G=60,_=34,J=10,Y=69;h.fillStyle="#0e0f19",h.fillRect(0,50,K*5+G*6+22,_),e.status(h,J,Y,G,O,w.length,Math.round(U)+" fps",U/e._goodFps,function(X){return w[X]/B-1}),e.status(h,J+K+G,Y,G,O,M.length,L.toFixed(2)+" dt",e._goodDelta/L,function(X){return M[X]/j-1}),e.status(h,J+(K+G)*2,Y,G,O,E.length,I+" upf",Math.pow(o.clamp(W/$||1,0,1),4),function(X){return E[X]/W-1}),e.status(h,J+(K+G)*3,Y,G,O,A.length,z.toFixed(2)+" ut",1-I*z/e._goodFps,function(X){return A[X]/z-1}),e.status(h,J+(K+G)*4,Y,G,O,g.length,N.toFixed(2)+" rt",1-N/e._goodFps,function(X){return g[X]/N-1}),e.status(h,J+(K+G)*5,Y,G,O,C.length,Q.toFixed(2)+" x",Q*Q*Q,function(X){return(C[X]/w[X]/Q||0)-1})},e.status=function(m,h,d,p,w,g,C,M,E){m.strokeStyle="#888",m.fillStyle="#444",m.lineWidth=1,m.fillRect(h,d+7,p,1),m.beginPath(),m.moveTo(h,d+7-w*o.clamp(.4*E(0),-2,2));for(var A=0;A<p;A+=1)m.lineTo(h+A,d+7-(A<g?w*o.clamp(.4*E(A),-2,2):0));m.stroke(),m.fillStyle="hsl("+o.clamp(25+95*M,0,120)+",100%,60%)",m.fillRect(h,d-7,4,4),m.font="12px Arial",m.textBaseline="middle",m.textAlign="right",m.fillStyle="#eee",m.fillText(C,h+p,d-5)},e.constraints=function(m,h){for(var d=h,p=0;p<m.length;p++){var w=m[p];if(!(!w.render.visible||!w.pointA||!w.pointB)){var g=w.bodyA,C=w.bodyB,M,E;if(g?M=f.add(g.position,w.pointA):M=w.pointA,w.render.type==="pin")d.beginPath(),d.arc(M.x,M.y,3,0,2*Math.PI),d.closePath();else{if(C?E=f.add(C.position,w.pointB):E=w.pointB,d.beginPath(),d.moveTo(M.x,M.y),w.render.type==="spring")for(var A=f.sub(E,M),I=f.perp(f.normalise(A)),L=Math.ceil(o.clamp(w.length/5,12,20)),B,N=1;N<L;N+=1)B=N%2===0?1:-1,d.lineTo(M.x+A.x*(N/L)+I.x*B*4,M.y+A.y*(N/L)+I.y*B*4);d.lineTo(E.x,E.y)}w.render.lineWidth&&(d.lineWidth=w.render.lineWidth,d.strokeStyle=w.render.strokeStyle,d.stroke()),w.render.anchors&&(d.fillStyle=w.render.strokeStyle,d.beginPath(),d.arc(M.x,M.y,3,0,2*Math.PI),d.arc(E.x,E.y,3,0,2*Math.PI),d.closePath(),d.fill())}}},e.bodies=function(m,h,d){var p=d;m.engine;var w=m.options,g=w.showInternalEdges||!w.wireframes,C,M,E,A;for(E=0;E<h.length;E++)if(C=h[E],!!C.render.visible){for(A=C.parts.length>1?1:0;A<C.parts.length;A++)if(M=C.parts[A],!!M.render.visible){if(w.showSleeping&&C.isSleeping?p.globalAlpha=.5*M.render.opacity:M.render.opacity!==1&&(p.globalAlpha=M.render.opacity),M.render.sprite&&M.render.sprite.texture&&!w.wireframes){var I=M.render.sprite,L=S(m,I.texture);p.translate(M.position.x,M.position.y),p.rotate(M.angle),p.drawImage(L,L.width*-I.xOffset*I.xScale,L.height*-I.yOffset*I.yScale,L.width*I.xScale,L.height*I.yScale),p.rotate(-M.angle),p.translate(-M.position.x,-M.position.y)}else{if(M.circleRadius)p.beginPath(),p.arc(M.position.x,M.position.y,M.circleRadius,0,2*Math.PI);else{p.beginPath(),p.moveTo(M.vertices[0].x,M.vertices[0].y);for(var B=1;B<M.vertices.length;B++)!M.vertices[B-1].isInternal||g?p.lineTo(M.vertices[B].x,M.vertices[B].y):p.moveTo(M.vertices[B].x,M.vertices[B].y),M.vertices[B].isInternal&&!g&&p.moveTo(M.vertices[(B+1)%M.vertices.length].x,M.vertices[(B+1)%M.vertices.length].y);p.lineTo(M.vertices[0].x,M.vertices[0].y),p.closePath()}w.wireframes?(p.lineWidth=1,p.strokeStyle=m.options.wireframeStrokeStyle,p.stroke()):(p.fillStyle=M.render.fillStyle,M.render.lineWidth&&(p.lineWidth=M.render.lineWidth,p.strokeStyle=M.render.strokeStyle,p.stroke()),p.fill())}p.globalAlpha=1}}},e.bodyWireframes=function(m,h,d){var p=d,w=m.options.showInternalEdges,g,C,M,E,A;for(p.beginPath(),M=0;M<h.length;M++)if(g=h[M],!!g.render.visible)for(A=g.parts.length>1?1:0;A<g.parts.length;A++){for(C=g.parts[A],p.moveTo(C.vertices[0].x,C.vertices[0].y),E=1;E<C.vertices.length;E++)!C.vertices[E-1].isInternal||w?p.lineTo(C.vertices[E].x,C.vertices[E].y):p.moveTo(C.vertices[E].x,C.vertices[E].y),C.vertices[E].isInternal&&!w&&p.moveTo(C.vertices[(E+1)%C.vertices.length].x,C.vertices[(E+1)%C.vertices.length].y);p.lineTo(C.vertices[0].x,C.vertices[0].y)}p.lineWidth=1,p.strokeStyle=m.options.wireframeStrokeStyle,p.stroke()},e.bodyConvexHulls=function(m,h,d){var p=d,w,g,C;for(p.beginPath(),g=0;g<h.length;g++)if(w=h[g],!(!w.render.visible||w.parts.length===1)){for(p.moveTo(w.vertices[0].x,w.vertices[0].y),C=1;C<w.vertices.length;C++)p.lineTo(w.vertices[C].x,w.vertices[C].y);p.lineTo(w.vertices[0].x,w.vertices[0].y)}p.lineWidth=1,p.strokeStyle="rgba(255,255,255,0.2)",p.stroke()},e.vertexNumbers=function(m,h,d){var p=d,w,g,C;for(w=0;w<h.length;w++){var M=h[w].parts;for(C=M.length>1?1:0;C<M.length;C++){var E=M[C];for(g=0;g<E.vertices.length;g++)p.fillStyle="rgba(255,255,255,0.2)",p.fillText(w+"_"+g,E.position.x+(E.vertices[g].x-E.position.x)*.8,E.position.y+(E.vertices[g].y-E.position.y)*.8)}}},e.mousePosition=function(m,h,d){var p=d;p.fillStyle="rgba(255,255,255,0.8)",p.fillText(h.position.x+"  "+h.position.y,h.position.x+5,h.position.y-5)},e.bodyBounds=function(m,h,d){var p=d;m.engine;var w=m.options;p.beginPath();for(var g=0;g<h.length;g++){var C=h[g];if(C.render.visible)for(var M=h[g].parts,E=M.length>1?1:0;E<M.length;E++){var A=M[E];p.rect(A.bounds.min.x,A.bounds.min.y,A.bounds.max.x-A.bounds.min.x,A.bounds.max.y-A.bounds.min.y)}}w.wireframes?p.strokeStyle="rgba(255,255,255,0.08)":p.strokeStyle="rgba(0,0,0,0.1)",p.lineWidth=1,p.stroke()},e.bodyAxes=function(m,h,d){var p=d;m.engine;var w=m.options,g,C,M,E;for(p.beginPath(),C=0;C<h.length;C++){var A=h[C],I=A.parts;if(A.render.visible)if(w.showAxes)for(M=I.length>1?1:0;M<I.length;M++)for(g=I[M],E=0;E<g.axes.length;E++){var L=g.axes[E];p.moveTo(g.position.x,g.position.y),p.lineTo(g.position.x+L.x*20,g.position.y+L.y*20)}else for(M=I.length>1?1:0;M<I.length;M++)for(g=I[M],E=0;E<g.axes.length;E++)p.moveTo(g.position.x,g.position.y),p.lineTo((g.vertices[0].x+g.vertices[g.vertices.length-1].x)/2,(g.vertices[0].y+g.vertices[g.vertices.length-1].y)/2)}w.wireframes?(p.strokeStyle="indianred",p.lineWidth=1):(p.strokeStyle="rgba(255, 255, 255, 0.4)",p.globalCompositeOperation="overlay",p.lineWidth=2),p.stroke(),p.globalCompositeOperation="source-over"},e.bodyPositions=function(m,h,d){var p=d;m.engine;var w=m.options,g,C,M,E;for(p.beginPath(),M=0;M<h.length;M++)if(g=h[M],!!g.render.visible)for(E=0;E<g.parts.length;E++)C=g.parts[E],p.arc(C.position.x,C.position.y,3,0,2*Math.PI,!1),p.closePath();for(w.wireframes?p.fillStyle="indianred":p.fillStyle="rgba(0,0,0,0.5)",p.fill(),p.beginPath(),M=0;M<h.length;M++)g=h[M],g.render.visible&&(p.arc(g.positionPrev.x,g.positionPrev.y,2,0,2*Math.PI,!1),p.closePath());p.fillStyle="rgba(255,165,0,0.8)",p.fill()},e.bodyVelocity=function(m,h,d){var p=d;p.beginPath();for(var w=0;w<h.length;w++){var g=h[w];if(g.render.visible){var C=l.getVelocity(g);p.moveTo(g.position.x,g.position.y),p.lineTo(g.position.x+C.x,g.position.y+C.y)}}p.lineWidth=3,p.strokeStyle="cornflowerblue",p.stroke()},e.bodyIds=function(m,h,d){var p=d,w,g;for(w=0;w<h.length;w++)if(h[w].render.visible){var C=h[w].parts;for(g=C.length>1?1:0;g<C.length;g++){var M=C[g];p.font="12px Arial",p.fillStyle="rgba(255,255,255,0.5)",p.fillText(M.id,M.position.x+10,M.position.y-10)}}},e.collisions=function(m,h,d){var p=d,w=m.options,g,C,M,E;for(p.beginPath(),M=0;M<h.length;M++)if(g=h[M],!!g.isActive)for(C=g.collision,E=0;E<g.contactCount;E++){var A=g.contacts[E],I=A.vertex;p.rect(I.x-1.5,I.y-1.5,3.5,3.5)}for(w.wireframes?p.fillStyle="rgba(255,255,255,0.7)":p.fillStyle="orange",p.fill(),p.beginPath(),M=0;M<h.length;M++)if(g=h[M],!!g.isActive&&(C=g.collision,g.contactCount>0)){var L=g.contacts[0].vertex.x,B=g.contacts[0].vertex.y;g.contactCount===2&&(L=(g.contacts[0].vertex.x+g.contacts[1].vertex.x)/2,B=(g.contacts[0].vertex.y+g.contacts[1].vertex.y)/2),C.bodyB===C.supports[0].body||C.bodyA.isStatic===!0?p.moveTo(L-C.normal.x*8,B-C.normal.y*8):p.moveTo(L+C.normal.x*8,B+C.normal.y*8),p.lineTo(L,B)}w.wireframes?p.strokeStyle="rgba(255,165,0,0.7)":p.strokeStyle="orange",p.lineWidth=1,p.stroke()},e.separations=function(m,h,d){var p=d,w=m.options,g,C,M,E,A;for(p.beginPath(),A=0;A<h.length;A++)if(g=h[A],!!g.isActive){C=g.collision,M=C.bodyA,E=C.bodyB;var I=1;!E.isStatic&&!M.isStatic&&(I=.5),E.isStatic&&(I=0),p.moveTo(E.position.x,E.position.y),p.lineTo(E.position.x-C.penetration.x*I,E.position.y-C.penetration.y*I),I=1,!E.isStatic&&!M.isStatic&&(I=.5),M.isStatic&&(I=0),p.moveTo(M.position.x,M.position.y),p.lineTo(M.position.x+C.penetration.x*I,M.position.y+C.penetration.y*I)}w.wireframes?p.strokeStyle="rgba(255,165,0,0.5)":p.strokeStyle="orange",p.stroke()},e.inspector=function(m,h){m.engine;var d=m.selected,p=m.render,w=p.options,g;if(w.hasBounds){var C=p.bounds.max.x-p.bounds.min.x,M=p.bounds.max.y-p.bounds.min.y,E=C/p.options.width,A=M/p.options.height;h.scale(1/E,1/A),h.translate(-p.bounds.min.x,-p.bounds.min.y)}for(var I=0;I<d.length;I++){var L=d[I].data;switch(h.translate(.5,.5),h.lineWidth=1,h.strokeStyle="rgba(255,165,0,0.9)",h.setLineDash([1,2]),L.type){case"body":g=L.bounds,h.beginPath(),h.rect(Math.floor(g.min.x-3),Math.floor(g.min.y-3),Math.floor(g.max.x-g.min.x+6),Math.floor(g.max.y-g.min.y+6)),h.closePath(),h.stroke();break;case"constraint":var B=L.pointA;L.bodyA&&(B=L.pointB),h.beginPath(),h.arc(B.x,B.y,10,0,2*Math.PI),h.closePath(),h.stroke();break}h.setLineDash([]),h.translate(-.5,-.5)}m.selectStart!==null&&(h.translate(.5,.5),h.lineWidth=1,h.strokeStyle="rgba(255,165,0,0.6)",h.fillStyle="rgba(255,165,0,0.1)",g=m.selectBounds,h.beginPath(),h.rect(Math.floor(g.min.x),Math.floor(g.min.y),Math.floor(g.max.x-g.min.x),Math.floor(g.max.y-g.min.y)),h.closePath(),h.stroke(),h.fill(),h.translate(-.5,-.5)),w.hasBounds&&h.setTransform(1,0,0,1,0,0)};var r=function(m,h){var d=m.engine,p=m.timing,w=p.historySize,g=d.timing.timestamp;p.delta=h-p.lastTime||e._goodDelta,p.lastTime=h,p.timestampElapsed=g-p.lastTimestamp||0,p.lastTimestamp=g,p.deltaHistory.unshift(p.delta),p.deltaHistory.length=Math.min(p.deltaHistory.length,w),p.engineDeltaHistory.unshift(d.timing.lastDelta),p.engineDeltaHistory.length=Math.min(p.engineDeltaHistory.length,w),p.timestampElapsedHistory.unshift(p.timestampElapsed),p.timestampElapsedHistory.length=Math.min(p.timestampElapsedHistory.length,w),p.engineUpdatesHistory.unshift(d.timing.lastUpdatesPerFrame),p.engineUpdatesHistory.length=Math.min(p.engineUpdatesHistory.length,w),p.engineElapsedHistory.unshift(d.timing.lastElapsed),p.engineElapsedHistory.length=Math.min(p.engineElapsedHistory.length,w),p.elapsedHistory.unshift(p.lastElapsed),p.elapsedHistory.length=Math.min(p.elapsedHistory.length,w)},c=function(m){for(var h=0,d=0;d<m.length;d+=1)h+=m[d];return h/m.length||0},x=function(m,h){var d=document.createElement("canvas");return d.width=m,d.height=h,d.oncontextmenu=function(){return!1},d.onselectstart=function(){return!1},d},y=function(m){var h=m.getContext("2d"),d=window.devicePixelRatio||1,p=h.webkitBackingStorePixelRatio||h.mozBackingStorePixelRatio||h.msBackingStorePixelRatio||h.oBackingStorePixelRatio||h.backingStorePixelRatio||1;return d/p},S=function(m,h){var d=m.textures[h];return d||(d=m.textures[h]=new Image,d.src=h,d)},P=function(m,h){var d=h;/(jpg|gif|png)$/.test(h)&&(d="url("+h+")"),m.canvas.style.background=d,m.canvas.style.backgroundSize="contain",m.currentBackground=h}})()},function(T,R,v){var e={};T.exports=e;var l=v(5),o=v(17),s=v(0);(function(){e._maxFrameDelta=1e3/15,e._frameDeltaFallback=1e3/60,e._timeBufferMargin=1.5,e._elapsedNextEstimate=1,e._smoothingLowerBound=.1,e._smoothingUpperBound=.9,e.create=function(n){var f={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},a=s.extend(f,n);return a.fps=0,a},e.run=function(n,f){return n.timeBuffer=e._frameDeltaFallback,function a(t){n.frameRequestId=e._onNextFrame(n,a),t&&n.enabled&&e.tick(n,f,t)}(),n},e.tick=function(n,f,a){var t=s.now(),i=n.delta,r=0,c=a-n.timeLastTick;if((!c||!n.timeLastTick||c>Math.max(e._maxFrameDelta,n.maxFrameTime))&&(c=n.frameDelta||e._frameDeltaFallback),n.frameDeltaSmoothing){n.frameDeltaHistory.push(c),n.frameDeltaHistory=n.frameDeltaHistory.slice(-n.frameDeltaHistorySize);var x=n.frameDeltaHistory.slice(0).sort(),y=n.frameDeltaHistory.slice(x.length*e._smoothingLowerBound,x.length*e._smoothingUpperBound),S=u(y);c=S||c}n.frameDeltaSnapping&&(c=1e3/Math.round(1e3/c)),n.frameDelta=c,n.timeLastTick=a,n.timeBuffer+=n.frameDelta,n.timeBuffer=s.clamp(n.timeBuffer,0,n.frameDelta+i*e._timeBufferMargin),n.lastUpdatesDeferred=0;var P=n.maxUpdates||Math.ceil(n.maxFrameTime/i),m={timestamp:f.timing.timestamp};l.trigger(n,"beforeTick",m),l.trigger(n,"tick",m);for(var h=s.now();i>0&&n.timeBuffer>=i*e._timeBufferMargin;){l.trigger(n,"beforeUpdate",m),o.update(f,i),l.trigger(n,"afterUpdate",m),n.timeBuffer-=i,r+=1;var d=s.now()-t,p=s.now()-h,w=d+e._elapsedNextEstimate*p/r;if(r>=P||w>n.maxFrameTime){n.lastUpdatesDeferred=Math.round(Math.max(0,n.timeBuffer/i-e._timeBufferMargin));break}}f.timing.lastUpdatesPerFrame=r,l.trigger(n,"afterTick",m),n.frameDeltaHistory.length>=100&&(n.lastUpdatesDeferred&&Math.round(n.frameDelta/i)>P?s.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):n.lastUpdatesDeferred&&s.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof n.isFixed<"u"&&s.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(n.deltaMin||n.deltaMax)&&s.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),n.fps!==0&&s.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},e.stop=function(n){e._cancelNextFrame(n)},e._onNextFrame=function(n,f){if(typeof window<"u"&&window.requestAnimationFrame)n.frameRequestId=window.requestAnimationFrame(f);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return n.frameRequestId},e._cancelNextFrame=function(n){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(n.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var u=function(n){for(var f=0,a=n.length,t=0;t<a;t+=1)f+=n[t];return f/a||0}})()},function(T,R,v){var e={};T.exports=e;var l=v(8),o=v(0),s=o.deprecated;(function(){e.collides=function(u,n){return l.collides(u,n)},s(e,"collides","SAT.collides âž¤ replaced by Collision.collides")})()},function(T,R,v){var e={};T.exports=e,v(1);var l=v(0);(function(){e.pathToVertices=function(o,s){typeof window<"u"&&!("SVGPathSeg"in window)&&l.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var u,n,f,a,t,i,r,c,x,y,S=[],P,m,h=0,d=0,p=0;s=s||15;var w=function(C,M,E){var A=E%2===1&&E>1;if(!x||C!=x.x||M!=x.y){x&&A?(P=x.x,m=x.y):(P=0,m=0);var I={x:P+C,y:m+M};(A||!x)&&(x=I),S.push(I),d=P+C,p=m+M}},g=function(C){var M=C.pathSegTypeAsLetter.toUpperCase();if(M!=="Z"){switch(M){case"M":case"L":case"T":case"C":case"S":case"Q":d=C.x,p=C.y;break;case"H":d=C.x;break;case"V":p=C.y;break}w(d,p,C.pathSegType)}};for(e._svgPathToAbsolute(o),f=o.getTotalLength(),i=[],u=0;u<o.pathSegList.numberOfItems;u+=1)i.push(o.pathSegList.getItem(u));for(r=i.concat();h<f;){if(y=o.getPathSegAtLength(h),t=i[y],t!=c){for(;r.length&&r[0]!=t;)g(r.shift());c=t}switch(t.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":a=o.getPointAtLength(h),w(a.x,a.y,0);break}h+=s}for(u=0,n=r.length;u<n;++u)g(r[u]);return S},e._svgPathToAbsolute=function(o){for(var s,u,n,f,a,t,i=o.pathSegList,r=0,c=0,x=i.numberOfItems,y=0;y<x;++y){var S=i.getItem(y),P=S.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(P))"x"in S&&(r=S.x),"y"in S&&(c=S.y);else switch("x1"in S&&(n=r+S.x1),"x2"in S&&(a=r+S.x2),"y1"in S&&(f=c+S.y1),"y2"in S&&(t=c+S.y2),"x"in S&&(r+=S.x),"y"in S&&(c+=S.y),P){case"m":i.replaceItem(o.createSVGPathSegMovetoAbs(r,c),y);break;case"l":i.replaceItem(o.createSVGPathSegLinetoAbs(r,c),y);break;case"h":i.replaceItem(o.createSVGPathSegLinetoHorizontalAbs(r),y);break;case"v":i.replaceItem(o.createSVGPathSegLinetoVerticalAbs(c),y);break;case"c":i.replaceItem(o.createSVGPathSegCurvetoCubicAbs(r,c,n,f,a,t),y);break;case"s":i.replaceItem(o.createSVGPathSegCurvetoCubicSmoothAbs(r,c,a,t),y);break;case"q":i.replaceItem(o.createSVGPathSegCurvetoQuadraticAbs(r,c,n,f),y);break;case"t":i.replaceItem(o.createSVGPathSegCurvetoQuadraticSmoothAbs(r,c),y);break;case"a":i.replaceItem(o.createSVGPathSegArcAbs(r,c,S.r1,S.r2,S.angle,S.largeArcFlag,S.sweepFlag),y);break;case"z":case"Z":r=s,c=u;break}(P=="M"||P=="m")&&(s=r,u=c)}}})()},function(T,R,v){var e={};T.exports=e;var l=v(6);v(0),function(){e.create=l.create,e.add=l.add,e.remove=l.remove,e.clear=l.clear,e.addComposite=l.addComposite,e.addBody=l.addBody,e.addConstraint=l.addConstraint}()}])})}(ae)),ae.exports}var Qe=$e();const re=xe(Qe),Ke=({imageUrls:D=[],trigger:k="auto",backgroundColor:T="transparent",wireframes:R=!1,gravity:v=1,mouseConstraintStiffness:e=.2,imageWidth:l="50px",imageHeight:o="50px",pause:s=!1})=>{const u=V.useRef(null),n=V.useRef(null),f=V.useRef(null),a=V.useRef(null),[t,i]=V.useState(!1),[r,c]=V.useState({width:0,height:0});return V.useEffect(()=>{if(!u.current)return;const x=u.current.getBoundingClientRect(),y=(S,P)=>S.includes("%")?parseFloat(S)/100*P:parseFloat(S);c({width:y(l,x.width),height:y(o,x.height)})},[l,o]),V.useEffect(()=>{if(!n.current||!D.length||!r.width)return;const x=D.map((y,S)=>`<img src="${y}" style="width:${r.width}px;height:${r.height}px" class="inline-block mx-[2px] select-none" />`).join("");n.current.innerHTML=x},[D,r]),V.useEffect(()=>{if(k==="auto")i(!0);else if(k==="scroll"&&u.current){const x=new IntersectionObserver(([y])=>{y.isIntersecting&&(i(!0),x.disconnect())},{threshold:.1});return x.observe(u.current),()=>x.disconnect()}},[k]),V.useEffect(()=>{if(!t||!r.width)return;const{Engine:x,Render:y,World:S,Bodies:P,Runner:m,Mouse:h,MouseConstraint:d}=re,p=u.current.getBoundingClientRect(),w=p.width,g=p.height,C=x.create();a.current=C,C.world.gravity.y=v;const M=y.create({element:f.current,engine:C,options:{width:w,height:g,background:T,wireframes:R}}),E={isStatic:!0,render:{fillStyle:"transparent"}},A=P.rectangle(w/2,g+25,w,50,E),I=P.rectangle(-25,g/2,50,g,E),L=P.rectangle(w+25,g/2,50,g,E),B=P.rectangle(w/2,-25,w,50,E),j=[...n.current.querySelectorAll("img")].map($=>{const U=$.getBoundingClientRect(),O=U.left-p.left+U.width/2,K=U.top-p.top+U.height/2,G=P.rectangle(O,K,r.width,r.height,{render:{fillStyle:"transparent"},restitution:.8,frictionAir:.01});return re.Body.setVelocity(G,{x:(Math.random()-.5)*5,y:0}),re.Body.setAngularVelocity(G,(Math.random()-.5)*.05),{elem:$,body:G}});j.forEach(({elem:$,body:U})=>{$.style.position="absolute",$.style.transform="translate(-50%, -50%)"});const W=h.create(u.current),z=d.create(C,{mouse:W,constraint:{stiffness:e,render:{visible:!1}}});S.add(C.world,[A,I,L,B,z,...j.map($=>$.body)]);const b=m.create();y.run(M),m.run(b,C);const Q=()=>{s||(j.forEach(({body:$,elem:U})=>{const{x:O,y:K}=$.position;U.style.left=`${O}px`,U.style.top=`${K}px`,U.style.transform=`translate(-50%, -50%) rotate(${$.angle}rad)`}),re.Engine.update(C)),requestAnimationFrame(Q)};return Q(),()=>{y.stop(M),m.stop(b),M.canvas&&f.current&&f.current.removeChild(M.canvas),S.clear(C.world),x.clear(C)}},[t,v,R,T,e,r,s]),F.jsxs("div",{ref:u,className:"relative z-[1] w-full h-full text-center overflow-hidden cursor-pointer",children:[F.jsx("div",{ref:n,className:"inline-block"}),F.jsx("div",{className:"absolute top-0 left-0 z-0 ",ref:f})]})},Ze=({handleClose:D})=>{const k=V.useRef(null);V.useEffect(()=>{Me.fromTo(k.current,{scale:.2,rotation:-1080,opacity:0},{scale:1,rotation:0,opacity:1,duration:1.6,ease:"power4.out"})},[]);const T=()=>{Me.to(k.current,{scale:.2,rotation:1080,opacity:0,duration:1.2,ease:"power4.in",onComplete:()=>D()})},[R,v]=V.useState(1),[e,l]=V.useState(""),[o,s]=V.useState({name:"",email:""}),u=i=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i),n=[{key:"personal",label:"Personal",desc:"Self-guided flexible tour",img:"tickets/1.jpg"},{key:"group",label:"Group Tour",desc:"Guided group experience",img:"tickets/2.jpg"},{key:"student",label:"Student",desc:"Student discount with valid ID",img:"tickets/3.jpg"}],f=n.find(i=>i.key===e),a={initial:{y:"-100%",opacity:0},animate:{y:"0%",opacity:1},exit:{y:"-100%",opacity:0},transition:{duration:.7,ease:[.25,.8,.25,1],type:"spring",bounce:.25}},t=o.name.trim().length>0&&u(o.email.trim());return F.jsx("div",{ref:k,className:"w-full max-w-[90vw] sm:max-w-4xl md:max-w-5xl lg:max-w-6xl h-[80vh] sm:h-[70vh] border border-[#FFE5D5] bg-[#030303] relative overflow-hidden rounded-xl shadow-2xl mx-auto",children:F.jsxs(Ue,{mode:"wait",children:[R===1&&F.jsxs(ee.div,{...a,className:"absolute inset-0 px-4 sm:px-6 md:px-10 py-4 sm:py-6 z-10 bg-[#030303] overflow-y-auto",children:[F.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start p-2",children:[F.jsxs("div",{className:"mb-4 sm:mb-0",children:[F.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-[#FFE5D5] uppercase",children:"Choose your Ticket"}),F.jsx("p",{className:"text-sm sm:text-md md:text-lg text-[#FFE5D5] w-full sm:w-2/3 ml-0 sm:ml-3 mt-2",children:"Pick the perfect option for your visit: a personal experience, a guided group tour, or a student special with added benefits."})]}),F.jsxs("div",{className:"flex gap-3 sm:gap-5",children:[F.jsx(ee.button,{disabled:!e,onClick:()=>v(2),className:"text-lg sm:text-xl font-bold text-[#FFE5D5] disabled:opacity-40",animate:{x:[-10,10,-8,8,-5,5,0],scale:[1,1.05,1]},transition:{duration:.6,repeat:1/0,repeatDelay:2},children:"GO NEXT"}),F.jsx("h3",{className:"text-lg sm:text-xl font-bold text-[#FFE5D5] cursor-pointer",onClick:T,children:"CLOSE"})]})]}),F.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start mt-6 sm:mt-8 md:mt-12",children:[F.jsx("div",{className:"text-lg sm:text-xl text-[#FFE5D5] space-y-4 sm:space-y-6 mt-4 sm:mt-6 w-full md:w-1/3",children:n.map(i=>F.jsxs("div",{onClick:()=>l(i.key),className:"flex items-start gap-4 cursor-pointer",children:[F.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 border-2 border-[#FFE5D5] rounded-full flex items-center justify-center mt-1",children:e===i.key&&F.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-[#FFE5D5] rounded-full"})}),F.jsxs("div",{children:[F.jsx("h3",{className:"font-bold uppercase text-base sm:text-lg",children:i.label}),F.jsx("p",{className:"text-xs sm:text-sm",children:i.desc})]})]},i.key))}),F.jsx("div",{className:"w-full md:w-2/3 w-[350px] h-[200px] sm:h-[300px] md:h-[200px] lg:h-[300px] rounded-xl overflow-hidden shadow-lg mt-6 md:mt-0 md:ml-6",children:f&&F.jsx("img",{src:f.img,alt:f.label,className:"w-full h-full md:object-cover object-contain"})})]})]},"step1"),R===2&&F.jsxs(ee.div,{...a,className:"absolute inset-0 px-4 sm:px-6 md:px-10 py-4 sm:py-6 z-20 bg-[#0a0a0a] overflow-y-auto custom-scrollbar1",children:[F.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start p-2",children:[F.jsxs("div",{className:"mb-4 sm:mb-0",children:[F.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold text-[#FFE5D5] uppercase",children:"Drop Your Digits"}),F.jsx("p",{className:"text-sm sm:text-md md:text-lg text-[#FFE5D5] w-full sm:w-2/3 ml-0 sm:ml-3 mt-2",children:"Slide us your deets, lock in your spot, and get ready for an unforgettable experience."})]}),F.jsxs("div",{className:"flex gap-3 sm:gap-5",children:[F.jsx(ee.button,{onClick:()=>t&&v(3),disabled:!t,className:"text-lg sm:text-xl font-bold text-[#FFE5D5] disabled:opacity-40",animate:t?{x:[-10,10,-8,8,-5,5,0],scale:[1,1.05,1]}:{},transition:{duration:.6,repeat:1/0,repeatDelay:2},children:"BOOK"}),F.jsx("button",{onClick:()=>v(1),className:"text-lg sm:text-xl font-bold text-[#FFE5D5]",children:"BACK"})]})]}),F.jsxs("div",{className:"flex flex-col gap-4 sm:gap-6 mt-12 sm:mt-20 md:mt-28 w-full sm:w-3/4 md:w-1/2",children:[F.jsx("input",{type:"text",placeholder:"Name",className:"bg-transparent border-b border-[#FFE5D5] px-2 py-1 outline-none text-lg sm:text-xl md:text-2xl placeholder-[#FFE5D5]",value:o.name,onChange:i=>s({...o,name:i.target.value})}),F.jsx("input",{type:"email",placeholder:"Email (test@gmail.com)",className:`bg-transparent border-b px-2 py-1 outline-none text-lg sm:text-xl md:text-2xl ${o.email&&!u(o.email)?"border-red-500 text-red-400 placeholder-red-300":"border-[#FFE5D5] text-[#FFE5D5] placeholder-[#FFE5D5]"}`,value:o.email,onChange:i=>s({...o,email:i.target.value})}),o.email&&!u(o.email)&&F.jsx("p",{className:"text-xs sm:text-sm text-red-500 mt-1 ml-1",children:"Please enter a valid email address."})]}),F.jsx("div",{className:"mt-8 sm:mt-12 md:mt-16",children:F.jsx("p",{className:"text-lg sm:text-2xl md:text-3xl lg:text-4xl text-[#FFE5D5] ml-0 sm:ml-3",children:"Your journey into art starts here â€” don't let the moment slip away."})})]},"step2"),R===3&&F.jsxs(ee.div,{...a,className:"absolute inset-0 px-4 sm:px-6 md:px-10 py-4 sm:py-6 flex items-center justify-center z-30 bg-[#fa4f2b] overflow-y-auto",children:[F.jsx("div",{className:"absolute top-4 sm:top-6 right-4 sm:right-6 text-[#FFE5D5] font-bold text-lg sm:text-xl cursor-pointer",onClick:T,children:"CLOSE"}),F.jsx("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-bold uppercase text-center text-[#FFE5D5]",children:"Booking Successful ðŸŽ‰"})]},"step3")]})})};var se={},Te;function Xe(){if(Te)return se;Te=1,se.match=e,se.parse=l;var D=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,k=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,T=/^(?:(min|max)-)?(.+)/,R=/(em|rem|px|cm|mm|in|pt|pc)?$/,v=/(dpi|dpcm|dppx)?$/;function e(n,f){return l(n).some(function(a){var t=a.inverse,i=a.type==="all"||f.type===a.type;if(i&&t||!(i||t))return!1;var r=a.expressions.every(function(c){var x=c.feature,y=c.modifier,S=c.value,P=f[x];if(!P)return!1;switch(x){case"orientation":case"scan":return P.toLowerCase()===S.toLowerCase();case"width":case"height":case"device-width":case"device-height":S=u(S),P=u(P);break;case"resolution":S=s(S),P=s(P);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":S=o(S),P=o(P);break;case"grid":case"color":case"color-index":case"monochrome":S=parseInt(S,10)||1,P=parseInt(P,10)||0;break}switch(y){case"min":return P>=S;case"max":return P<=S;default:return P===S}});return r&&!t||!r&&t})}function l(n){return n.split(",").map(function(f){f=f.trim();var a=f.match(D),t=a[1],i=a[2],r=a[3]||"",c={};return c.inverse=!!t&&t.toLowerCase()==="not",c.type=i?i.toLowerCase():"all",r=r.match(/\([^\)]+\)/g)||[],c.expressions=r.map(function(x){var y=x.match(k),S=y[1].toLowerCase().match(T);return{modifier:S[1],feature:S[2],value:y[2]}}),c})}function o(n){var f=Number(n),a;return f||(a=n.match(/^(\d+)\s*\/\s*(\d+)$/),f=a[1]/a[2]),f}function s(n){var f=parseFloat(n),a=String(n).match(v)[1];switch(a){case"dpcm":return f/2.54;case"dppx":return f*96;default:return f}}function u(n){var f=parseFloat(n),a=String(n).match(R)[1];switch(a){case"em":return f*16;case"rem":return f*16;case"cm":return f*96/2.54;case"mm":return f*96/2.54/10;case"in":return f*96;case"pt":return f*72;case"pc":return f*72/12;default:return f}}return se}var fe,Re;function Je(){if(Re)return fe;Re=1;var D=Xe().match,k=typeof window<"u"?window.matchMedia:null;function T(v,e,l){var o=this,s;k&&!l&&(s=k.call(window,v)),s?(this.matches=s.matches,this.media=s.media,s.addListener(f)):(this.matches=D(v,e),this.media=v),this.addListener=u,this.removeListener=n,this.dispose=a;function u(t){s&&s.addListener(t)}function n(t){s&&s.removeListener(t)}function f(t){o.matches=t.matches,o.media=t.media}function a(){s&&s.removeListener(f)}}function R(v,e,l){return new T(v,e,l)}return fe=R,fe}var Ye=Je();const qe=xe(Ye);var _e=/[A-Z]/g,et=/^ms-/,ce={};function tt(D){return"-"+D.toLowerCase()}function Be(D){if(ce.hasOwnProperty(D))return ce[D];var k=D.replace(_e,tt);return ce[D]=et.test(k)?"-"+k:k}function nt(D,k){if(D===k)return!0;if(!D||!k)return!1;const T=Object.keys(D),R=Object.keys(k),v=T.length;if(R.length!==v)return!1;for(let e=0;e<v;e++){const l=T[e];if(D[l]!==k[l]||!Object.prototype.hasOwnProperty.call(k,l))return!1}return!0}var ue={exports:{}},me,Ie;function it(){if(Ie)return me;Ie=1;var D="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return me=D,me}var ve,Ae;function rt(){if(Ae)return ve;Ae=1;var D=it();function k(){}function T(){}return T.resetWarningCache=k,ve=function(){function R(l,o,s,u,n,f){if(f!==D){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}R.isRequired=R;function v(){return R}var e={array:R,bigint:R,bool:R,func:R,number:R,object:R,string:R,symbol:R,any:R,arrayOf:v,element:R,elementType:R,instanceOf:v,node:R,objectOf:v,oneOf:v,oneOfType:v,shape:v,exact:v,checkPropTypes:T,resetWarningCache:k};return e.PropTypes=e,e},ve}var De;function st(){return De||(De=1,ue.exports=rt()()),ue.exports}var at=st();const H=xe(at),Z=H.oneOfType([H.string,H.number]),ke={all:H.bool,grid:H.bool,aural:H.bool,braille:H.bool,handheld:H.bool,print:H.bool,projection:H.bool,screen:H.bool,tty:H.bool,tv:H.bool,embossed:H.bool},ot={orientation:H.oneOf(["portrait","landscape"]),scan:H.oneOf(["progressive","interlace"]),aspectRatio:H.string,deviceAspectRatio:H.string,height:Z,deviceHeight:Z,width:Z,deviceWidth:Z,color:H.bool,colorIndex:H.bool,monochrome:H.bool,resolution:Z,type:Object.keys(ke)},{type:At,...lt}=ot,ft={minAspectRatio:H.string,maxAspectRatio:H.string,minDeviceAspectRatio:H.string,maxDeviceAspectRatio:H.string,minHeight:Z,maxHeight:Z,minDeviceHeight:Z,maxDeviceHeight:Z,minWidth:Z,maxWidth:Z,minDeviceWidth:Z,maxDeviceWidth:Z,minColor:H.number,maxColor:H.number,minColorIndex:H.number,maxColorIndex:H.number,minMonochrome:H.number,maxMonochrome:H.number,minResolution:Z,maxResolution:Z,...lt},ct={...ke,...ft};var ut={all:ct};const mt=D=>`not ${D}`,vt=(D,k)=>{const T=Be(D);return typeof k=="number"&&(k=`${k}px`),k===!0?T:k===!1?mt(T):`(${T}: ${k})`},pt=D=>D.join(" and "),xt=D=>{const k=[];return Object.keys(ut.all).forEach(T=>{const R=D[T];R!=null&&k.push(vt(T,R))}),pt(k)},ht=V.createContext(void 0),dt=D=>D.query||xt(D),Fe=D=>D?Object.keys(D).reduce((T,R)=>(T[Be(R)]=D[R],T),{}):void 0,Le=()=>{const D=V.useRef(!1);return V.useEffect(()=>{D.current=!0},[]),D.current},gt=D=>{const k=V.useContext(ht),T=()=>Fe(D)||Fe(k),[R,v]=V.useState(T);return V.useEffect(()=>{const e=T();nt(R,e)||v(e)},[D,k]),R},yt=D=>{const k=()=>dt(D),[T,R]=V.useState(k);return V.useEffect(()=>{const v=k();T!==v&&R(v)},[D]),T},St=(D,k)=>{const T=()=>qe(D,k||{},!!k),[R,v]=V.useState(T),e=Le();return V.useEffect(()=>{if(e){const l=T();return v(l),()=>{l&&l.dispose()}}},[D,k]),R},wt=D=>{const[k,T]=V.useState(D.matches);return V.useEffect(()=>{const R=v=>{T(v.matches)};return D.addListener(R),T(D.matches),()=>{D.removeListener(R)}},[D]),k},pe=(D,k,T)=>{const R=gt(k),v=yt(D);if(!v)throw new Error("Invalid or missing MediaQuery!");const e=St(v,R),l=wt(e);return Le(),V.useEffect(()=>{},[l]),V.useEffect(()=>()=>{e&&e.dispose()},[]),l},Dt=({content:D,initialSlideIndex:k=0})=>{const T=pe({maxWidth:480}),R=pe({minWidth:481,maxWidth:1024});pe({minWidth:1025});const v=V.useRef(null),e=V.useRef(null),l=V.useRef(null),o=V.useRef(null),[s,u]=V.useState(!1);V.useEffect(()=>{v.current&&e.current&&l.current&&o.current&&We({slider:v.current,sliderTitle:e.current,sliderItems:l.current,sliderPreview:o.current,initialSlideIndex:k},D)},[D,k]);const n=(k-1+D.length)%D.length,f=(k+1)%D.length;return F.jsxs("div",{className:"w-full min-h-screen relative",children:[F.jsxs("div",{className:s?"blur-sm pointer-events-none select-none":"",children:[F.jsx("section",{className:"w-full py-12 text-white text-center",children:F.jsx("h3",{className:"text-5xl md:text-7xl lg:text-9xl font-bold",children:F.jsx(Ge,{label:"Concert vibe",reverse:!1})})}),F.jsxs("section",{className:"w-full min-h-screen lg:mt-16 mb-10",children:[F.jsx("div",{className:"text-center px-4",children:F.jsx("p",{className:"text-xl md:max-w-2xl lg:max-w-6xl mx-auto lg:text-5xl lg:max-w-6xl lg:mx-auto text-white font-lexend normal-case",children:"The Eras Tour has been one of the most emotional and magical experiences of my life. Each era represents a different chapter of my journey, and getting to share that with you â€” city after city, night after night â€” has meant everything to me. Your energy, your love, your friendship... I feel it with every song. Thank you for making these moments unforgettable. Iâ€™ll carry them with me forever."})}),F.jsxs("div",{className:"slider w-full min-h-screen",ref:v,children:[F.jsx("div",{className:"slide-container prev",children:F.jsx("img",{src:D[n].img,alt:D[n].name})}),F.jsx("div",{className:"slide-container active",children:F.jsx("img",{src:D[k].img,alt:D[k].name})}),F.jsx("div",{className:"slide-container next",children:F.jsx("img",{src:D[f].img,alt:D[f].name})}),F.jsx("div",{className:"slider-title",ref:e,children:F.jsx("h1",{children:D[k].name})}),F.jsx("div",{className:"slider-items",ref:l,children:D.map((a,t)=>F.jsx("p",{className:t===k?"activeItem":"",children:a.name},a.name))}),F.jsx("div",{className:"slider-preview",ref:o,children:F.jsx("img",{src:D[k].img,alt:""})})]})]}),F.jsxs("section",{className:"w-full lg:mt-16 mb-10 px-4 sm:px-6 lg:px-12",children:[F.jsx("div",{className:"text-center mb-8",children:F.jsx("h3",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl text-[#ebdc0b] font-bold leading-tight",children:"Unlock The Experience"})}),F.jsxs("div",{className:"w-full h-[65vh] sm:h-[70vh] md:h-[75vh] border border-[#ebdc0b] rounded-xl relative overflow-hidden",children:[F.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-20 bg-[#ebdc0b] px-6 py-3 sm:px-8 sm:py-4 md:px-10 md:py-5 rounded-md cursor-pointer transition-transform hover:scale-105",onClick:()=>u(!0),children:F.jsx("h3",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-[#3D1D0F] tracking-wide",children:"BAG IT"})}),F.jsx(Ke,{imageUrls:T?["/tickets/1.jpg","/tickets/2.jpg","/tickets/3.jpg","/tickets/2.jpg"]:R?["/tickets/1.jpg","/tickets/2.jpg","/tickets/3.jpg","/tickets/2.jpg","/tickets/1.jpg","/tickets/3.jpg"]:["/tickets/1.jpg","/tickets/2.jpg","/tickets/3.jpg","/tickets/1.jpg","/tickets/2.jpg","/tickets/3.jpg","/tickets/1.jpg","/tickets/3.jpg"],trigger:"scroll",pause:s,backgroundColor:"transparent",wireframes:!1,gravity:.56,mouseConstraintStiffness:.9,imageWidth:T?"55%":R?"35%":"20%",imageHeight:T?"15%":R?"18%":"20%"})]})]})]}),s&&F.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center",children:F.jsx(Ze,{handleClose:()=>u(!1)})}),F.jsxs("nav",{className:"fixed bottom-0 left-1/2 transform -translate-x-1/2 p-8 z-50",children:[F.jsx(be,{})," "]})]})};export{Dt as default};
